module.exports=[24058,(a,b,c)=>{"use strict";b.exports=a.r(33678).vendored["react-ssr"].ReactServerDOMTurbopackClient},83451,a=>{"use strict";let b=(0,a.i(32269).default)("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);a.s(["default",()=>b])},78189,a=>{"use strict";var b=a.i(83451);a.s(["Calendar",()=>b.default])},2471,a=>{"use strict";var b=a.i(76681),c=a.i(18443);function d({className:a,...d}){return(0,b.jsx)("div",{"data-slot":"card",className:(0,c.cn)("bg-card text-card-foreground flex flex-col gap-6 rounded-xl border py-6 shadow-sm",a),...d})}a.s(["Card",()=>d])},37497,a=>{"use strict";let b=(0,a.i(32269).default)("Sprout",[["path",{d:"M7 20h10",key:"e6iznv"}],["path",{d:"M10 20c5.5-2.5.8-6.4 3-10",key:"161w41"}],["path",{d:"M9.5 9.4c1.1.8 1.8 2.2 2.3 3.7-2 .4-3.5.4-4.8-.3-1.2-.6-2.3-1.9-3-4.2 2.8-.5 4.4 0 5.5.8z",key:"9gtqwd"}],["path",{d:"M14.1 6a7 7 0 0 0-1.1 4c1.9-.1 3.3-.6 4.3-1.4 1-1 1.6-2.3 1.7-4.6-2.7.1-4 1-4.9 2z",key:"bkxnd2"}]]);a.s(["Sprout",()=>b],37497)},37483,a=>{"use strict";let b=(0,a.i(32269).default)("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]);a.s(["Heart",()=>b],37483)},39158,a=>{"use strict";var b=a.i(76681),c=a.i(35801),d=a.i(71594),e=a.i(37483),f=a.i(37497),g=a.i(42539);function h(){return(0,b.jsx)("nav",{className:"fixed top-0 w-full bg-background/95 backdrop-blur-sm z-50 border-b border-border",children:(0,b.jsx)("div",{className:"container mx-auto px-4 py-4",children:(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsxs)(c.default,{href:"/",className:"flex items-center gap-3 hover:opacity-80 transition-opacity",children:[(0,b.jsx)(g.default,{src:"/placeholder-logo.png",alt:"From Plate to Plant Logo",width:48,height:48,className:"h-12 w-12 object-contain",priority:!0}),(0,b.jsx)("span",{className:"font-display font-bold text-xl text-foreground",children:"From Plate to Plant"})]}),(0,b.jsxs)("div",{className:"hidden md:flex items-center gap-2",children:[(0,b.jsx)(c.default,{href:"/login?role=charity",children:(0,b.jsxs)(d.Button,{variant:"ghost",className:"text-foreground hover:text-primary",children:[(0,b.jsx)(e.Heart,{className:"w-4 h-4 mr-2"}),"For Charities"]})}),(0,b.jsx)(c.default,{href:"/login?role=farmer",children:(0,b.jsxs)(d.Button,{variant:"ghost",className:"text-foreground hover:text-primary",children:[(0,b.jsx)(f.Sprout,{className:"w-4 h-4 mr-2"}),"For Farmers"]})})]}),(0,b.jsxs)("div",{className:"flex items-center gap-4",children:[(0,b.jsx)(c.default,{href:"/login",children:(0,b.jsx)(d.Button,{variant:"ghost",className:"text-foreground hover:text-primary",children:"Log In"})}),(0,b.jsx)(c.default,{href:"/register",children:(0,b.jsx)(d.Button,{className:"bg-primary hover:bg-primary/90 text-primary-foreground",children:"Register Business"})})]})]})})})}a.s(["PublicNav",()=>h])},42805,a=>{"use strict";let b=(0,a.i(32269).default)("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);a.s(["Clock",()=>b],42805)},93705,a=>{"use strict";var b=a.i(76681),c=a.i(58273),d=a.i(2471),e=a.i(71594),f=a.i(37483),g=a.i(78189),h=a.i(42805);let i=(0,a.i(32269).default)("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);var j=a.i(39158);let k={approved:"bg-green-500/10 text-green-600 border border-green-500/20",rejected:"bg-red-500/10 text-red-600 border border-red-500/20",collected:"bg-primary/10 text-primary border border-primary/20",scheduled:"bg-blue-500/10 text-blue-600 border border-blue-500/20",pending:"bg-amber-500/10 text-amber-600 border border-amber-500/20"};function l(){let[a,l]=(0,c.useState)([]),[m,n]=(0,c.useState)(!0),[o,p]=(0,c.useState)(null),q=async()=>{try{n(!0);let a=JSON.parse(localStorage.getItem("user")||"{}").userId||"u-charity-1",b=await fetch("/api/charity/requests",{headers:{"x-user-id":a}});if(b.ok){let a=await b.json();l(a),p(null)}else{let a=await b.text();console.error("Failed to fetch requests",b.status,a),p("Could not load your requests. Please try again.")}}catch(a){console.error("Error fetching requests",a),p(a instanceof TypeError&&"Failed to fetch"===a.message?"Cannot reach the server. Is it running?":"Unexpected error loading requests.")}finally{n(!1)}};return(0,c.useEffect)(()=>{q();let a=setInterval(q,15e3);return()=>clearInterval(a)},[]),(0,b.jsxs)("div",{className:"min-h-screen bg-background",children:[(0,b.jsx)(j.PublicNav,{}),(0,b.jsx)("main",{className:"pt-24 px-4 pb-12",children:(0,b.jsxs)("div",{className:"container mx-auto max-w-5xl space-y-6",children:[(0,b.jsxs)("div",{className:"text-center mb-4",children:[(0,b.jsx)("div",{className:"inline-flex items-center justify-center w-16 h-16 rounded-full bg-red-500/10 mb-3",children:(0,b.jsx)(f.Heart,{className:"w-8 h-8 text-red-500"})}),(0,b.jsx)("h1",{className:"font-display font-bold text-3xl text-foreground",children:"My Pickup Requests"}),(0,b.jsx)("p",{className:"text-muted-foreground mt-2",children:"Track the status of your pickup requests and preferred times."})]}),o&&(0,b.jsx)(d.Card,{className:"p-6",children:(0,b.jsx)("p",{className:"text-center text-muted-foreground",children:o})}),!o&&m&&(0,b.jsx)(d.Card,{className:"p-6",children:(0,b.jsx)("p",{className:"text-center text-muted-foreground",children:"Loading your requests..."})}),!o&&!m&&0===a.length&&(0,b.jsx)(d.Card,{className:"p-6",children:(0,b.jsx)("p",{className:"text-center text-muted-foreground",children:"You haven’t made any pickup requests yet."})}),!o&&!m&&a.length>0&&(0,b.jsx)("div",{className:"space-y-4",children:(0,b.jsx)("div",{className:"overflow-x-auto",children:(0,b.jsxs)("table",{className:"w-full border-collapse",children:[(0,b.jsx)("thead",{children:(0,b.jsxs)("tr",{className:"border-b",children:[(0,b.jsx)("th",{className:"text-left p-3 font-semibold text-sm text-muted-foreground",children:"Item Name"}),(0,b.jsx)("th",{className:"text-left p-3 font-semibold text-sm text-muted-foreground",children:"Café Name"}),(0,b.jsx)("th",{className:"text-left p-3 font-semibold text-sm text-muted-foreground",children:"Status"}),(0,b.jsx)("th",{className:"text-left p-3 font-semibold text-sm text-muted-foreground",children:"Note"}),(0,b.jsx)("th",{className:"text-left p-3 font-semibold text-sm text-muted-foreground",children:"Pickup Window"}),(0,b.jsx)("th",{className:"text-left p-3 font-semibold text-sm text-muted-foreground",children:"Created Date"}),(0,b.jsx)("th",{className:"text-left p-3 font-semibold text-sm text-muted-foreground",children:"Actions"})]})}),(0,b.jsx)("tbody",{children:a.map(a=>(0,b.jsxs)("tr",{className:"border-b hover:bg-muted/50",children:[(0,b.jsxs)("td",{className:"p-3",children:[(0,b.jsx)("div",{className:"font-medium",children:a.itemName||"Unknown item"}),(0,b.jsxs)("div",{className:"text-sm text-muted-foreground",children:["Quantity: ",a.quantity??"N/A"," kg"]})]}),(0,b.jsx)("td",{className:"p-3",children:a.cafeName||"Café"}),(0,b.jsxs)("td",{className:"p-3",children:[(0,b.jsx)("span",{className:`px-3 py-1 rounded-full text-xs font-medium ${k[a.status]||"bg-amber-500/10 text-amber-600 border border-amber-500/20"}`,children:a.status}),"approved"===a.status&&(0,b.jsx)("div",{className:"mt-2 text-xs text-green-700 bg-green-50 px-2 py-1 rounded border border-green-200",children:"Your request is approved. Café will provide a pickup time soon."})]}),(0,b.jsx)("td",{className:"p-3 text-sm text-muted-foreground",children:a.notes||"—"}),(0,b.jsx)("td",{className:"p-3 text-sm text-muted-foreground",children:"scheduled"===a.status&&a.pickupWindow?(0,b.jsxs)("div",{className:"space-y-1",children:[(0,b.jsxs)("div",{className:"font-medium text-foreground",children:[(0,b.jsx)(g.Calendar,{className:"w-4 h-4 inline mr-1"}),new Date(a.pickupWindow.date).toLocaleDateString()]}),(0,b.jsxs)("div",{className:"text-xs",children:[(0,b.jsx)(h.Clock,{className:"w-3 h-3 inline mr-1"}),a.pickupWindow.from," - ",a.pickupWindow.to]})]}):"—"}),(0,b.jsxs)("td",{className:"p-3 text-sm text-muted-foreground",children:[new Date(a.requestedAt).toLocaleDateString()," ",new Date(a.requestedAt).toLocaleTimeString()]}),(0,b.jsx)("td",{className:"p-3",children:"scheduled"===a.status&&(0,b.jsxs)(e.Button,{size:"sm",variant:"outline",onClick:()=>window.location.href=`tel:${a.cafeName,"+1-555-0123"}`,children:[(0,b.jsx)(i,{className:"w-4 h-4 mr-1"}),"Call Café"]})})]},a.id))})]})})})]})})]})}a.s(["default",()=>l],93705)}];

//# sourceMappingURL=FWMS_7649975d._.js.map