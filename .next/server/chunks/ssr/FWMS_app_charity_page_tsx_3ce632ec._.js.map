{"version":3,"sources":["turbopack:///[project]/FWMS/app/charity/page.tsx","turbopack:///[project]/FWMS/node_modules/lucide-react/src/icons/mail.ts"],"sourcesContent":["\"use client\"\n\nimport { PublicNav } from \"@/components/public-nav\"\nimport { Card } from \"@/components/ui/card\"\nimport { Button } from \"@/components/ui/button\"\nimport { Dialog, DialogContent, DialogDescription, DialogFooter, DialogHeader, DialogTitle } from \"@/components/ui/dialog\"\nimport { Label } from \"@/components/ui/label\"\nimport { Textarea } from \"@/components/ui/textarea\"\nimport { Select, SelectContent, SelectItem, SelectTrigger, SelectValue } from \"@/components/ui/select\"\nimport { Heart, Calendar, MapPin, CheckCircle, Mail, Bell, X } from \"lucide-react\"\nimport { useState, useEffect } from \"react\"\nimport { toast } from \"sonner\"\n\nexport default function CharityPortalPage() {\n  const [requestedItems, setRequestedItems] = useState<string[]>([])\n  const [availableFood, setAvailableFood] = useState<any[]>([])\n  const [isLoading, setIsLoading] = useState(true)\n  const [fetchError, setFetchError] = useState<string | null>(null)\n  const [selectedItem, setSelectedItem] = useState<any>(null)\n  const [isDialogOpen, setIsDialogOpen] = useState(false)\n  const [note, setNote] = useState(\"\")\n  const [myRequests, setMyRequests] = useState<any[]>([])\n  const [showMyRequests, setShowMyRequests] = useState(false)\n  const [myRequestsError, setMyRequestsError] = useState<string | null>(null)\n  const [sortOption, setSortOption] = useState<\"none\" | \"expiry\" | \"quantity\">(\"none\")\n  const [showPickupCoordination, setShowPickupCoordination] = useState<Record<string, boolean>>({})\n  const [notifications, setNotifications] = useState<any[]>([])\n  const [unreadCount, setUnreadCount] = useState(0)\n  const [seenItemIds, setSeenItemIds] = useState<Set<string>>(new Set())\n\n  // Load seen items from localStorage on mount\n  useEffect(() => {\n    const storedSeen = localStorage.getItem(\"charity-seen-items\")\n    if (storedSeen) {\n      try {\n        setSeenItemIds(new Set(JSON.parse(storedSeen)))\n      } catch (e) {\n        console.error(\"Error loading seen items:\", e)\n      }\n    }\n  }, [])\n\n  // Mark notification as read\n  const markAsRead = (notificationId: string) => {\n    setNotifications((prev) =>\n      prev.map((n) => (n.id === notificationId ? { ...n, read: true } : n))\n    )\n  }\n\n  // Update unread count when notifications change\n  useEffect(() => {\n    const unread = notifications.filter((n) => !n.read).length\n    setUnreadCount(unread)\n  }, [notifications])\n\n  useEffect(() => {\n    const fetchAvailableFood = async () => {\n      try {\n        setIsLoading(true)\n        \n        // Use marketplace endpoint ONLY\n        const storedUser = JSON.parse(localStorage.getItem(\"user\") || \"{}\")\n        const userId = storedUser.userId || \"u-charity-1\" // Default charity user for public portal\n        \n        const response = await fetch(\"/api/marketplace/waste\", {\n          headers: {\n            \"x-user-id\": userId,\n          },\n        })\n        \n        if (!response.ok) {\n          const errorText = await response.text()\n          console.error(\"Failed to fetch available food:\", response.status, errorText)\n          setFetchError(\"Could not load available food. Please try again.\")\n          setIsLoading(false)\n          return\n        }\n        \n        const data = await response.json()\n        console.log(\"[Charity Portal] Received data from API:\", data)\n        console.log(\"[Charity Portal] Number of items received:\", data.length)\n        \n        // Transform API data to match display format\n        let transformed = data.map((item: any) => {\n          // Parse expiry date - handle both ISO strings and date strings\n          let expiryDate = \"N/A\"\n          if (item.expiryDate) {\n            try {\n              // If it's already a date string (YYYY-MM-DD), use it directly\n              if (item.expiryDate.match(/^\\d{4}-\\d{2}-\\d{2}$/)) {\n                expiryDate = item.expiryDate\n              } else {\n                // Otherwise parse it\n                expiryDate = new Date(item.expiryDate).toISOString().split(\"T\")[0]\n              }\n            } catch (e) {\n              expiryDate = item.expiryDate\n            }\n          }\n          \n          return {\n            id: item.id,\n            cafeId: item.cafeId || item.business?.id,\n            cafe: item.cafeName || item.business?.name || \"Green Caf√©\",\n            item: item.itemName,\n            quantity: typeof item.quantity === \"number\" ? `${item.quantity} kg` : item.quantity,\n            expiry: expiryDate,\n            rawExpiry: item.expiryDate,\n            description: item.description || item.notes,\n            location: item.business?.address || \"123 Main St, Downtown\",\n            distance: \"2.3 km\", // Default distance\n            cafeContact: item.cafeContact || null,\n          }\n        })\n\n        // Apply client-side sorting\n        transformed = transformed.sort((a: any, b: any) => {\n          if (sortOption === \"expiry\") {\n            const aDate = a.rawExpiry ? new Date(a.rawExpiry).getTime() : Number.MAX_SAFE_INTEGER\n            const bDate = b.rawExpiry ? new Date(b.rawExpiry).getTime() : Number.MAX_SAFE_INTEGER\n            return aDate - bDate\n          }\n          if (sortOption === \"quantity\") {\n            const aQty = Number(a.quantity.replace(\" kg\", \"\")) || 0\n            const bQty = Number(b.quantity.replace(\" kg\", \"\")) || 0\n            return bQty - aQty\n          }\n          return 0\n        })\n\n        console.log(\"[Charity Portal] Transformed items:\", transformed)\n        console.log(\"[Charity Portal] Setting availableFood with\", transformed.length, \"items\")\n        \n        // Check for new items (items not in seenItemIds)\n        const newItems = transformed.filter((item: any) => !seenItemIds.has(item.id))\n        \n        if (newItems.length > 0) {\n          // Create notifications for new items\n          const newNotifications = newItems.map((item: any) => ({\n            id: `notif-${item.id}`,\n            title: `New ${item.item} Available`,\n            message: `${item.quantity} of ${item.item} from ${item.cafe} is now available for pickup`,\n            wasteId: item.id,\n            read: false,\n            createdAt: new Date().toISOString(),\n          }))\n          \n          setNotifications((prev) => {\n            // Add new notifications, avoiding duplicates\n            const existingIds = new Set(prev.map((n) => n.id))\n            const uniqueNew = newNotifications.filter((n) => !existingIds.has(n.id))\n            return [...uniqueNew, ...prev]\n          })\n          \n          // Update seen items\n          const updatedSeen = new Set([...seenItemIds, ...newItems.map((item: any) => item.id)])\n          setSeenItemIds(updatedSeen)\n          localStorage.setItem(\"charity-seen-items\", JSON.stringify(Array.from(updatedSeen)))\n          \n          console.log(`[Charity Portal] Found ${newItems.length} new items, created notifications`)\n        }\n        \n        setAvailableFood(transformed)\n        setFetchError(null)\n      } catch (error) {\n        console.error(\"Error fetching available food:\", error)\n        const isNetwork = error instanceof TypeError && error.message === \"Failed to fetch\"\n        setFetchError(\n          isNetwork\n            ? \"Cannot reach the server. Is the dev server running?\"\n            : \"Unexpected error while loading food items.\"\n        )\n      } finally {\n        setIsLoading(false)\n      }\n    }\n\n    fetchAvailableFood()\n    // Refresh every 5 seconds to show new items\n    const interval = setInterval(fetchAvailableFood, 5000)\n    return () => clearInterval(interval)\n  }, [sortOption, seenItemIds])\n\n  // Fetch user's requests\n  useEffect(() => {\n    const fetchMyRequests = async () => {\n      try {\n        const storedUser = JSON.parse(localStorage.getItem(\"user\") || \"{}\")\n        const requesterId = storedUser.userId || \"u-charity-1\"\n        \n        const response = await fetch(\"/api/charity/requests\", {\n          headers: {\n            \"x-user-id\": requesterId,\n          },\n        })\n        \n        if (response.ok) {\n          const data = await response.json()\n          // API now includes waste details in the response\n          setMyRequests(data)\n          setMyRequestsError(null)\n        } else {\n          const errorText = await response.text()\n          console.error(\"Failed to fetch my requests:\", response.status, errorText)\n          setMyRequestsError(\"Could not load your requests. Please try again.\")\n        }\n      } catch (error) {\n        console.error(\"Error fetching my requests:\", error)\n        const isNetwork = error instanceof TypeError && error.message === \"Failed to fetch\"\n        setMyRequestsError(\n          isNetwork\n            ? \"Cannot reach the server. Is the dev server running?\"\n            : \"Unexpected error while loading your requests.\"\n        )\n      }\n    }\n\n    fetchMyRequests()\n    // Refresh every 5 seconds\n    const interval = setInterval(fetchMyRequests, 5000)\n    return () => clearInterval(interval)\n  }, [])\n\n  const handleRequestClick = (food: any) => {\n    setSelectedItem(food)\n    setIsDialogOpen(true)\n  }\n\n  const handleSubmitRequest = async () => {\n    if (!selectedItem) return\n\n    try {\n      // Get user from localStorage (if available) or use a default charity user\n      const storedUser = JSON.parse(localStorage.getItem(\"user\") || \"{}\")\n      const charityId = storedUser.userId || \"u-charity-1\" // Default charity user for demo\n\n      const response = await fetch(\"/api/charity/requests\", {\n        method: \"POST\",\n        headers: {\n          \"Content-Type\": \"application/json\",\n          \"x-user-id\": charityId,\n        },\n        body: JSON.stringify({\n          charityId: charityId,\n          itemId: selectedItem.id,\n          cafeId: selectedItem.cafeId,\n          status: \"pending\",\n          note: note || undefined,\n        }),\n      })\n\n      if (response.ok) {\n        toast.success(\"Pickup request submitted successfully\", {\n          description: `Your request for \"${selectedItem.item}\" has been sent. The caf√© will review and coordinate the pickup time with you.`,\n          duration: 6000,\n          position: \"top-center\",\n        })\n        // Update the specific item in the list to show \"Pending Approval\" status\n        // DO NOT refresh the list - keep all items visible\n        setAvailableFood((prev) =>\n          prev.map((item) =>\n            item.id === selectedItem.id\n              ? { ...item, requestStatus: \"pending\" }\n              : item\n          )\n        )\n        \n        setRequestedItems([...requestedItems, selectedItem.id])\n        setIsDialogOpen(false)\n        setNote(\"\")\n        setSelectedItem(null)\n        // DO NOT refresh available items - this would remove the item from the list\n      } else {\n        const errorData = await response.json()\n        toast.error(\"‚ùå Request Failed\", {\n          description: errorData.error || \"Failed to send pickup request. Please try again.\",\n          duration: 6000,\n          position: \"top-center\",\n        })\n      }\n    } catch (error) {\n      console.error(\"Error submitting request:\", error)\n      toast.error(\"‚ùå Error\", {\n        description: \"Something went wrong. Please try again.\",\n        duration: 6000,\n        position: \"top-center\",\n      })\n    }\n  }\n\n  return (\n    <div className=\"min-h-screen bg-background\">\n      <PublicNav />\n\n      <main className=\"pt-24 px-4 pb-12\">\n        <div className=\"container mx-auto max-w-6xl\">\n          <div className=\"text-center mb-12\">\n            <div className=\"inline-flex items-center justify-center w-16 h-16 rounded-full bg-red-500/10 mb-4\">\n              <Heart className=\"w-8 h-8 text-red-500\" />\n            </div>\n            <h1 className=\"font-display font-bold text-4xl text-foreground mb-3\">Charity Portal</h1>\n            <p className=\"text-lg text-muted-foreground max-w-2xl mx-auto\">\n              Browse available edible food from local caf√©s and request pickups to help your community\n            </p>\n          </div>\n\n          <Card className=\"p-6 mb-8 bg-blue-50 border-blue-200\">\n            <h3 className=\"font-display font-bold text-lg text-blue-900 mb-2\">How It Works</h3>\n            <ol className=\"space-y-2 text-sm text-blue-800\">\n              <li>1. Browse edible food available from caf√©s below</li>\n              <li>2. Click \"Request Pickup\" for items your organization needs</li>\n              <li>3. Wait for caf√© admin approval (usually within 24 hours)</li>\n              <li>4. Once approved, coordinate pickup time with the caf√©</li>\n            </ol>\n          </Card>\n\n          {/* Notifications Banner */}\n          {unreadCount > 0 && (\n            <Card className=\"p-4 mb-6 bg-blue-50 border-blue-200\">\n              <div className=\"flex items-center justify-between\">\n                <div className=\"flex items-center gap-3\">\n                  <Bell className=\"w-5 h-5 text-blue-600\" />\n                  <div>\n                    <h3 className=\"font-semibold text-blue-900\">\n                      {unreadCount} New Notification{unreadCount !== 1 ? \"s\" : \"\"}\n                    </h3>\n                    <p className=\"text-sm text-blue-700\">\n                      New edible food items are available for pickup!\n                    </p>\n                  </div>\n                </div>\n                <Button\n                  variant=\"ghost\"\n                  size=\"sm\"\n                  onClick={() => {\n                    // Mark all as read\n                    notifications\n                      .filter((n) => !n.read)\n                      .forEach((n) => markAsRead(n.id))\n                  }}\n                >\n                  Mark all as read\n                </Button>\n              </div>\n              {/* Show latest notifications */}\n              <div className=\"mt-4 space-y-2\">\n                {notifications\n                  .filter((n) => !n.read)\n                  .slice(0, 3)\n                  .map((notification) => (\n                    <div\n                      key={notification.id}\n                      className=\"flex items-start justify-between p-3 bg-white rounded-lg border border-blue-100\"\n                    >\n                      <div className=\"flex-1\">\n                        <p className=\"text-sm font-medium text-gray-900\">\n                          {notification.title}\n                        </p>\n                        <p className=\"text-sm text-gray-600\">{notification.message}</p>\n                        <p className=\"text-xs text-gray-400 mt-1\">\n                          {new Date(notification.createdAt).toLocaleString()}\n                        </p>\n                      </div>\n                      <Button\n                        variant=\"ghost\"\n                        size=\"sm\"\n                        onClick={() => markAsRead(notification.id)}\n                        className=\"ml-2\"\n                      >\n                        <X className=\"w-4 h-4\" />\n                      </Button>\n                    </div>\n                  ))}\n              </div>\n            </Card>\n          )}\n\n          <div className=\"mb-6 flex items-center justify-between\">\n            <div>\n              <h2 className=\"font-display font-bold text-2xl text-foreground mb-4\">\n                {showMyRequests ? \"My Pickup Requests\" : \"Available Edible Food\"}\n              </h2>\n              <p className=\"text-muted-foreground\">\n                {showMyRequests\n                  ? `${myRequests.length} request${myRequests.length !== 1 ? \"s\" : \"\"}`\n                  : isLoading\n                    ? \"Loading...\"\n                    : `${availableFood.length} item${availableFood.length !== 1 ? \"s\" : \"\"} available for pickup`}\n              </p>\n            </div>\n            <div className=\"flex gap-3\">\n              {!showMyRequests && (\n                <Select\n                  value={sortOption}\n                  onValueChange={(value) => setSortOption(value as typeof sortOption)}\n                >\n                  <SelectTrigger className=\"w-48\">\n                    <SelectValue placeholder=\"Sort\" />\n                  </SelectTrigger>\n                  <SelectContent>\n                    <SelectItem value=\"none\">Sort: None</SelectItem>\n                    <SelectItem value=\"expiry\">Sort: Closest Expiry</SelectItem>\n                    <SelectItem value=\"quantity\">Sort: Largest Quantity</SelectItem>\n                  </SelectContent>\n                </Select>\n              )}\n              <Button\n                variant={showMyRequests ? \"default\" : \"outline\"}\n                onClick={() => setShowMyRequests(!showMyRequests)}\n              >\n                {showMyRequests ? \"Browse Available Food\" : \"View My Requests\"}\n              </Button>\n            </div>\n          </div>\n\n          {fetchError ? (\n            <Card className=\"p-6\">\n              <p className=\"text-center text-muted-foreground\">{fetchError}</p>\n            </Card>\n          ) : showMyRequests ? (\n            // My Requests View\n            myRequestsError ? (\n              <Card className=\"p-6\">\n                <p className=\"text-center text-muted-foreground\">{myRequestsError}</p>\n              </Card>\n            ) : myRequests.length === 0 ? (\n              <Card className=\"p-6\">\n                <p className=\"text-center text-muted-foreground\">You haven't made any pickup requests yet.</p>\n              </Card>\n            ) : (\n              <div className=\"grid gap-6\">\n                {myRequests.map((request) => (\n                  <Card key={request.id} className=\"p-6 hover:shadow-lg transition-shadow\">\n                    <div className=\"flex items-start justify-between gap-6\">\n                      <div className=\"flex-1\">\n                        <div className=\"flex items-center gap-3 mb-3\">\n                          <div className=\"w-12 h-12 rounded-full bg-red-500/10 flex items-center justify-center flex-shrink-0\">\n                            <Heart className=\"w-6 h-6 text-red-500\" />\n                          </div>\n                          <div>\n                            <h3 className=\"font-display font-bold text-xl text-foreground\">{request.itemName || \"Unknown Item\"}</h3>\n                            <p className=\"text-sm text-muted-foreground\">{request.cafeName || \"Green Caf√©\"}</p>\n                          </div>\n                        </div>\n\n                        <div className=\"grid md:grid-cols-2 gap-4 mb-4\">\n                          <div className=\"flex items-center gap-2 text-muted-foreground\">\n                            <span className=\"text-sm\">\n                              Quantity: <span className=\"font-medium text-foreground\">{request.quantity || 0} kg</span>\n                            </span>\n                          </div>\n                          <div className=\"flex items-center gap-2 text-muted-foreground\">\n                            <Calendar className=\"w-4 h-4\" />\n                            <span className=\"text-sm\">\n                              Requested: <span className=\"font-medium text-foreground\">\n                                {new Date(request.requestedAt).toLocaleDateString()}\n                              </span>\n                            </span>\n                          </div>\n                        </div>\n\n                        {request.preferredTime && (\n                          <div className=\"mb-3 p-3 bg-blue-50 rounded-lg border border-blue-200\">\n                            <p className=\"text-sm font-medium text-blue-900 mb-1\">Preferred Pickup Time:</p>\n                            <p className=\"text-sm text-blue-800\">{request.preferredTime}</p>\n                          </div>\n                        )}\n\n                        {request.notes && (\n                          <div className=\"mb-3\">\n                            <p className=\"text-sm text-muted-foreground\">Notes: {request.notes}</p>\n                          </div>\n                        )}\n\n                        <div className=\"mt-4 flex items-center gap-3 flex-wrap\">\n                          <span\n                            className={`inline-flex items-center gap-1 px-3 py-1 rounded-full text-xs font-medium ${\n                              request.status === \"approved\"\n                                ? \"bg-green-500/10 text-green-600 border border-green-500/20\"\n                                : request.status === \"rejected\"\n                                  ? \"bg-red-500/10 text-red-600 border border-red-500/20\"\n                                  : request.status === \"collected\"\n                                    ? \"bg-primary/10 text-primary border border-primary/20\"\n                                    : \"bg-amber-500/10 text-amber-600 border border-amber-500/20\"\n                            }`}\n                          >\n                            {request.status === \"approved\" && <CheckCircle className=\"w-3 h-3\" />}\n                            <span className=\"capitalize\">{request.status}</span>\n                          </span>\n                          \n                          {/* Show caf√© contact beside approved status */}\n                          {request.status === \"approved\" && request.cafeContact && (\n                            <div className=\"flex items-center gap-2 text-xs text-muted-foreground\">\n                              <span className=\"text-muted-foreground\">‚Ä¢</span>\n                              <span className=\"font-medium text-foreground\">Contact:</span>\n                              <span>{request.cafeContact.name || \"Caf√© Admin\"}</span>\n                              {request.cafeContact.email && (\n                                <>\n                                  <span className=\"text-muted-foreground\">‚Ä¢</span>\n                                  <a \n                                    href={`mailto:${request.cafeContact.email}`} \n                                    className=\"text-primary hover:underline\"\n                                  >\n                                    {request.cafeContact.email}\n                                  </a>\n                                </>\n                              )}\n                            </div>\n                          )}\n                        </div>\n\n                        {request.status === \"approved\" && !request.pickupWindow && (\n                          <div className=\"mt-4 space-y-3\">\n                            <div className=\"p-3 bg-green-50 rounded-lg border border-green-200\">\n                              <p className=\"text-sm font-medium text-green-900 mb-1\">‚úÖ Request Approved!</p>\n                              <p className=\"text-sm text-green-800\">\n                                Please coordinate the final pickup time with the caf√©. Your preferred time was: {request.preferredTime || \"Not specified\"}\n                              </p>\n                            </div>\n                            \n                            {/* Button to show Pickup Coordination */}\n                            <Button\n                              variant=\"outline\"\n                              size=\"sm\"\n                              onClick={() => setShowPickupCoordination(prev => ({\n                                ...prev,\n                                [request.id]: !prev[request.id]\n                              }))}\n                              className=\"w-full sm:w-auto\"\n                            >\n                              <MapPin className=\"w-4 h-4 mr-2\" />\n                              {showPickupCoordination[request.id] ? \"Hide\" : \"Show\"} Pickup Coordination\n                            </Button>\n                            \n                            {/* Pickup Coordination Section */}\n                            {showPickupCoordination[request.id] && (\n                            <div className=\"p-4 bg-amber-50 rounded-lg border border-amber-200\">\n                              <div className=\"flex items-center gap-2 mb-4\">\n                                <MapPin className=\"w-5 h-5 text-amber-700\" />\n                                <p className=\"text-base font-bold text-amber-900\">Pickup Coordination</p>\n                              </div>\n                              <div className=\"space-y-3 text-sm\">\n                                <div className=\"flex items-start gap-2\">\n                                  <span className=\"text-amber-700\">üìç</span>\n                                  <div>\n                                    <span className=\"font-medium text-amber-900\">Caf√©: </span>\n                                    <span className=\"text-amber-800\">{request.cafeName || \"Green Caf√©\"}</span>\n                                  </div>\n                                </div>\n                                <div className=\"flex items-start gap-2\">\n                                  <span className=\"text-amber-700\">‚è∞</span>\n                                  <div>\n                                    <span className=\"font-medium text-amber-900\">Pickup Window: </span>\n                                    <span className=\"text-amber-800\">Within 24 hours of approval</span>\n                                  </div>\n                                </div>\n                                {request.cafeContact ? (\n                                  <div className=\"space-y-2\">\n                                    <div className=\"flex items-start gap-2\">\n                                      <span className=\"text-amber-700\">üìû</span>\n                                      <div>\n                                        <span className=\"font-medium text-amber-900\">Contact Person: </span>\n                                        <span className=\"text-amber-800\">{request.cafeContact.name || \"Caf√© Admin\"}</span>\n                                      </div>\n                                    </div>\n                                    {request.cafeContact.email && (\n                                      <div className=\"flex items-start gap-2\">\n                                        <span className=\"text-amber-700\">‚úâÔ∏è</span>\n                                        <div>\n                                          <span className=\"font-medium text-amber-900\">Email: </span>\n                                          <a \n                                            href={`mailto:${request.cafeContact.email}`} \n                                            className=\"text-amber-700 hover:underline font-medium\"\n                                          >\n                                            {request.cafeContact.email}\n                                          </a>\n                                        </div>\n                                      </div>\n                                    )}\n                                  </div>\n                                ) : (\n                                  <div className=\"flex items-start gap-2\">\n                                    <span className=\"text-amber-700\">üìû</span>\n                                    <div>\n                                      <span className=\"font-medium text-amber-900\">Contact Person: </span>\n                                      <span className=\"text-amber-800\">Caf√© Admin</span>\n                                    </div>\n                                  </div>\n                                )}\n                              </div>\n                              <div className=\"mt-4 pt-3 border-t border-amber-200\">\n                                <p className=\"text-sm text-amber-800 italic\">\n                                  Please contact the caf√© to arrange pickup time.\n                                </p>\n                              </div>\n                            </div>\n                            )}\n                          </div>\n                        )}\n                      </div>\n                    </div>\n                  </Card>\n                ))}\n              </div>\n            )\n          ) : isLoading ? (\n            <Card className=\"p-6\">\n              <p className=\"text-center text-muted-foreground\">Loading available food items...</p>\n            </Card>\n          ) : availableFood.length === 0 ? (\n            <div className=\"space-y-6\">\n              <Card className=\"p-12 text-center\">\n                <p className=\"text-muted-foreground mb-6\">No edible food items available at the moment. Check back later!</p>\n              </Card>\n              \n              {/* Show requesting collection items */}\n              {myRequests.length > 0 && (\n                <div>\n                  <h3 className=\"font-display font-bold text-xl text-foreground mb-4\">\n                    Requesting Collection ({myRequests.filter((r: any) => r.status === \"pending\" || r.status === \"approved\").length})\n                  </h3>\n                  <div className=\"grid gap-6\">\n                    {myRequests\n                      .filter((request: any) => request.status === \"pending\" || request.status === \"approved\")\n                      .map((request: any) => (\n                        <Card key={request.id} className=\"p-6 hover:shadow-lg transition-shadow\">\n                          <div className=\"flex items-start justify-between gap-6\">\n                            <div className=\"flex-1\">\n                              <div className=\"flex items-center gap-3 mb-3\">\n                                <div className=\"w-12 h-12 rounded-full bg-red-500/10 flex items-center justify-center flex-shrink-0\">\n                                  <Heart className=\"w-6 h-6 text-red-500\" />\n                                </div>\n                                <div>\n                                  <h3 className=\"font-display font-bold text-xl text-foreground\">{request.itemName || \"Unknown Item\"}</h3>\n                                  <p className=\"text-sm text-muted-foreground\">{request.cafeName || \"Green Caf√©\"}</p>\n                                </div>\n                              </div>\n\n                              <div className=\"grid md:grid-cols-2 gap-4 mb-4\">\n                                <div className=\"flex items-center gap-2 text-muted-foreground\">\n                                  <span className=\"text-sm\">\n                                    Quantity: <span className=\"font-medium text-foreground\">{request.quantity || 0} kg</span>\n                                  </span>\n                                </div>\n                                <div className=\"flex items-center gap-2 text-muted-foreground\">\n                                  <Calendar className=\"w-4 h-4\" />\n                                  <span className=\"text-sm\">\n                                    Requested: <span className=\"font-medium text-foreground\">\n                                      {new Date(request.requestedAt).toLocaleDateString()}\n                                    </span>\n                                  </span>\n                                </div>\n                              </div>\n\n                              {request.preferredTime && (\n                                <div className=\"mb-3 p-3 bg-green-50 rounded-lg border border-green-200\">\n                                  <p className=\"text-sm font-medium text-green-900 mb-1\">Preferred Collection Time:</p>\n                                  <p className=\"text-sm text-green-800\">{request.preferredTime}</p>\n                                </div>\n                              )}\n\n                              {request.notes && (\n                                <div className=\"mb-3\">\n                                  <p className=\"text-sm text-muted-foreground\">Notes: {request.notes}</p>\n                                </div>\n                              )}\n\n                              <div className=\"mt-4 flex items-center gap-3 flex-wrap\">\n                                <span\n                                  className={`inline-flex items-center gap-1 px-3 py-1 rounded-full text-xs font-medium ${\n                                    request.status === \"approved\"\n                                      ? \"bg-green-500/10 text-green-600 border border-green-500/20\"\n                                      : request.status === \"rejected\"\n                                        ? \"bg-red-500/10 text-red-600 border border-red-500/20\"\n                                        : request.status === \"collected\"\n                                          ? \"bg-primary/10 text-primary border border-primary/20\"\n                                          : \"bg-amber-500/10 text-amber-600 border border-amber-500/20\"\n                                  }`}\n                                >\n                                  {request.status === \"approved\" && <CheckCircle className=\"w-3 h-3\" />}\n                                  <span className=\"capitalize\">{request.status}</span>\n                                </span>\n                                \n                                {/* Show caf√© contact beside approved status */}\n                                {request.status === \"approved\" && request.cafeContact && (\n                                  <div className=\"flex items-center gap-2 text-xs text-muted-foreground\">\n                                    <span className=\"text-muted-foreground\">‚Ä¢</span>\n                                    <span className=\"font-medium text-foreground\">Contact:</span>\n                                    <span>{request.cafeContact.name || \"Caf√© Admin\"}</span>\n                                    {request.cafeContact.email && (\n                                      <>\n                                        <span className=\"text-muted-foreground\">‚Ä¢</span>\n                                        <a \n                                          href={`mailto:${request.cafeContact.email}`} \n                                          className=\"text-primary hover:underline\"\n                                        >\n                                          {request.cafeContact.email}\n                                        </a>\n                                      </>\n                                    )}\n                                  </div>\n                                )}\n                              </div>\n\n                              {request.status === \"approved\" && !request.pickupWindow && (\n                                <div className=\"mt-4 space-y-3\">\n                                  <div className=\"p-3 bg-green-50 rounded-lg border border-green-200\">\n                                    <p className=\"text-sm font-medium text-green-900 mb-1\">‚úÖ Request Approved!</p>\n                                    <p className=\"text-sm text-green-800\">\n                                      Please coordinate the final collection time with the caf√©. Your preferred time was: {request.preferredTime || \"Not specified\"}\n                                    </p>\n                                  </div>\n                                  \n                                  {/* Button to show Pickup Coordination */}\n                                  <Button\n                                    variant=\"outline\"\n                                    size=\"sm\"\n                                    onClick={() => setShowPickupCoordination(prev => ({\n                                      ...prev,\n                                      [request.id]: !prev[request.id]\n                                    }))}\n                                    className=\"w-full sm:w-auto\"\n                                  >\n                                    <MapPin className=\"w-4 h-4 mr-2\" />\n                                    {showPickupCoordination[request.id] ? \"Hide\" : \"Show\"} Pickup Coordination\n                                  </Button>\n                                  \n                                  {/* Pickup Coordination Section */}\n                                  {showPickupCoordination[request.id] && (\n                                  <div className=\"p-4 bg-amber-50 rounded-lg border border-amber-200\">\n                                    <div className=\"flex items-center gap-2 mb-3\">\n                                      <MapPin className=\"w-5 h-5 text-amber-700\" />\n                                      <p className=\"text-sm font-bold text-amber-900\">Pickup Instructions</p>\n                                    </div>\n                                    <div className=\"space-y-2 text-sm\">\n                                      <div>\n                                        <span className=\"font-medium text-amber-900\">Location:</span>\n                                        <span className=\"text-amber-800 ml-2\">{request.cafeName || \"Green Caf√©\"}</span>\n                                      </div>\n                                      <div>\n                                        <span className=\"font-medium text-amber-900\">Pickup Window:</span>\n                                        <span className=\"text-amber-800 ml-2\">Within 24 hours of approval</span>\n                                      </div>\n                                      {request.cafeContact && (\n                                        <div>\n                                          <span className=\"font-medium text-amber-900\">Contact Person:</span>\n                                          <div className=\"text-amber-800 ml-2 mt-1\">\n                                            <p>{request.cafeContact.name || \"Caf√© Staff\"}</p>\n                                            {request.cafeContact.email && (\n                                              <p className=\"text-xs flex items-center gap-1\">\n                                                <Mail className=\"w-3 h-3\" />\n                                                <a href={`mailto:${request.cafeContact.email}`} className=\"text-amber-700 hover:underline\">\n                                                  {request.cafeContact.email}\n                                                </a>\n                                              </p>\n                                            )}\n                                          </div>\n                                        </div>\n                                      )}\n                                      {!request.cafeContact && (\n                                        <div>\n                                          <span className=\"font-medium text-amber-900\">Contact Person:</span>\n                                          <span className=\"text-amber-800 ml-2\">Please contact the caf√© directly</span>\n                                        </div>\n                                      )}\n                                    </div>\n                                  </div>\n                                  )}\n                                </div>\n                              )}\n\n                              {request.status === \"scheduled\" && request.pickupWindow && (\n                                <div className=\"mt-4 p-3 bg-blue-50 rounded-lg border border-blue-200\">\n                                  <p className=\"text-sm font-medium text-blue-900 mb-1\">üìÖ Pickup Scheduled!</p>\n                                  <p className=\"text-sm text-blue-800\">\n                                    Date: {request.pickupWindow.date}\n                                  </p>\n                                  <p className=\"text-sm text-blue-800\">\n                                    Time: {request.pickupWindow.from} - {request.pickupWindow.to}\n                                  </p>\n                                </div>\n                              )}\n                            </div>\n                          </div>\n                        </Card>\n                      ))}\n                  </div>\n                </div>\n              )}\n            </div>\n          ) : (\n            <div className=\"grid gap-6\">\n              {availableFood.map((food) => (\n              <Card key={food.id} className=\"p-6 hover:shadow-lg transition-shadow\">\n                <div className=\"flex items-start justify-between gap-6\">\n                  <div className=\"flex-1\">\n                    <div className=\"flex items-center gap-3 mb-3\">\n                      <div className=\"w-12 h-12 rounded-full bg-red-500/10 flex items-center justify-center flex-shrink-0\">\n                        <Heart className=\"w-6 h-6 text-red-500\" />\n                      </div>\n                      <div className=\"flex-1\">\n                        <h3 className=\"font-display font-bold text-xl text-foreground\">{food.item}</h3>\n                        <p className=\"text-sm text-muted-foreground\">{food.cafe}</p>\n                        {food.cafeContact && (\n                          <div className=\"mt-2 space-y-1\">\n                            <div className=\"flex items-center gap-2 text-xs text-muted-foreground\">\n                              <span className=\"font-medium\">üìû Contact:</span>\n                              <span>{food.cafeContact.name || \"Caf√© Admin\"}</span>\n                            </div>\n                            {food.cafeContact.email && (\n                              <div className=\"flex items-center gap-2 text-xs\">\n                                <span className=\"text-muted-foreground\">‚úâÔ∏è Email:</span>\n                                <a \n                                  href={`mailto:${food.cafeContact.email}`} \n                                  className=\"text-primary hover:underline\"\n                                >\n                                  {food.cafeContact.email}\n                                </a>\n                              </div>\n                            )}\n                          </div>\n                        )}\n                      </div>\n                    </div>\n\n                    <div className=\"grid md:grid-cols-2 gap-4 mb-4\">\n                      <div className=\"flex items-center gap-2 text-muted-foreground\">\n                        <Calendar className=\"w-4 h-4\" />\n                        <span className=\"text-sm\">\n                          Expires: <span className=\"font-medium text-foreground\">{food.expiry}</span>\n                        </span>\n                      </div>\n                      <div className=\"flex items-center gap-2 text-muted-foreground\">\n                        <MapPin className=\"w-4 h-4\" />\n                        <span className=\"text-sm\">\n                          <span className=\"font-medium text-foreground\">{food.distance}</span> away\n                        </span>\n                      </div>\n                    </div>\n\n                    <div className=\"flex items-center gap-2 mb-4\">\n                      <span className=\"text-sm text-muted-foreground\">Quantity:</span>\n                      <span className=\"font-bold text-lg text-foreground\">{food.quantity}</span>\n                    </div>\n\n                    {food.description && (\n                      <p className=\"text-sm text-muted-foreground mb-2\">{food.description}</p>\n                    )}\n                    <p className=\"text-sm text-muted-foreground\">{food.location}</p>\n                  </div>\n\n                  <div className=\"flex flex-col items-end gap-3\">\n                    {food.requestStatus === \"pending\" || requestedItems.includes(food.id) ? (\n                      <Button disabled className=\"bg-gray-400 text-white cursor-not-allowed\">\n                        <CheckCircle className=\"w-4 h-4 mr-2\" />\n                        Pending Approval\n                      </Button>\n                    ) : (\n                      <Button onClick={() => handleRequestClick(food)} className=\"bg-red-500 hover:bg-red-600 text-white\">\n                        <Heart className=\"w-4 h-4 mr-2\" />\n                        Request Pickup\n                      </Button>\n                    )}\n                    <Button variant=\"outline\" size=\"sm\">\n                      View Details\n                    </Button>\n                  </div>\n                </div>\n              </Card>\n              ))}\n            </div>\n          )}\n\n          {/* Pickup Request Confirmation Modal */}\n          <Dialog open={isDialogOpen} onOpenChange={setIsDialogOpen}>\n            <DialogContent className=\"sm:max-w-[500px]\">\n              <DialogHeader>\n                <DialogTitle>Confirm Pickup Request</DialogTitle>\n                <DialogDescription>\n                  Request pickup for {selectedItem?.item} from {selectedItem?.cafe}\n                </DialogDescription>\n              </DialogHeader>\n              <div className=\"space-y-4 py-4\">\n                <div className=\"space-y-2\">\n                  <Label htmlFor=\"note\">Note (Optional)</Label>\n                  <Textarea\n                    id=\"note\"\n                    placeholder=\"e.g., Please pack separately\"\n                    value={note}\n                    onChange={(e) => setNote(e.target.value)}\n                    rows={3}\n                  />\n                </div>\n              </div>\n              <DialogFooter>\n                <Button variant=\"outline\" onClick={() => setIsDialogOpen(false)}>\n                  Cancel\n                </Button>\n                <Button onClick={handleSubmitRequest} className=\"bg-red-500 hover:bg-red-600 text-white\">\n                  <Heart className=\"w-4 h-4 mr-2\" />\n                  Confirm Request\n                </Button>\n              </DialogFooter>\n            </DialogContent>\n          </Dialog>\n        </div>\n      </main>\n    </div>\n  )\n}\n","import createLucideIcon from '../createLucideIcon';\n\n/**\n * @component @name Mail\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cmVjdCB3aWR0aD0iMjAiIGhlaWdodD0iMTYiIHg9IjIiIHk9IjQiIHJ4PSIyIiAvPgogIDxwYXRoIGQ9Im0yMiA3LTguOTcgNS43YTEuOTQgMS45NCAwIDAgMS0yLjA2IDBMMiA3IiAvPgo8L3N2Zz4K) - https://lucide.dev/icons/mail\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst Mail = createLucideIcon('Mail', [\n  ['rect', { width: '20', height: '16', x: '2', y: '4', rx: '2', key: '18n3k1' }],\n  ['path', { d: 'm22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7', key: '1ocrg3' }],\n]);\n\nexport default Mail;\n"],"names":[],"mappings":"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","ignoreList":[1]}