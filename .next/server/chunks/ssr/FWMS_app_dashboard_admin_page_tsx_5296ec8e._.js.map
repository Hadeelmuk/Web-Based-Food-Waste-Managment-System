{"version":3,"sources":["turbopack:///[project]/FWMS/components/admin-actions-chart.tsx","turbopack:///[project]/FWMS/app/dashboard/admin/page.tsx","turbopack:///[project]/FWMS/node_modules/lucide-react/src/icons/users.ts"],"sourcesContent":["\"use client\"\n\nimport { useEffect, useState } from \"react\"\nimport { Pie, PieChart, Cell, Legend, ResponsiveContainer } from \"recharts\"\nimport { ChartContainer, ChartTooltip, ChartTooltipContent } from \"@/components/ui/chart\"\n\nconst COLORS = [\"hsl(var(--chart-1))\", \"hsl(var(--chart-2))\", \"hsl(var(--chart-3))\", \"hsl(var(--chart-4))\"]\n\ntype ActionSlice = { name: string; value: number }\n\nexport function AdminActionsChart() {\n  const [data, setData] = useState<ActionSlice[]>([])\n\n  const fetchData = async () => {\n    try {\n      const storedUser = JSON.parse(localStorage.getItem(\"user\") || \"{}\")\n      const res = await fetch(\"/api/admin/actions-breakdown\", {\n        headers: {\n          \"x-user-id\": storedUser.userId || \"\",\n        },\n      })\n      if (!res.ok) {\n        console.error(\"[AdminActionsChart] Failed to fetch:\", res.status)\n        return\n      }\n      const payload = await res.json()\n      const nextData: ActionSlice[] = [\n        { name: \"Donate\", value: payload.donate ?? 0 },\n        { name: \"Compost\", value: payload.compost ?? 0 },\n        { name: \"Farm\", value: payload.farm ?? 0 },\n        { name: \"Reuse\", value: payload.reuse ?? 0 },\n      ]\n      setData(nextData)\n    } catch (err) {\n      console.error(\"[AdminActionsChart] Error fetching data:\", err)\n    }\n  }\n\n  useEffect(() => {\n    fetchData()\n    const timer = setInterval(fetchData, 5000)\n    return () => clearInterval(timer)\n  }, [])\n\n  return (\n    <ChartContainer\n      config={{\n        donate: {\n          label: \"Donate\",\n          color: \"hsl(var(--chart-1))\",\n        },\n        compost: {\n          label: \"Compost\",\n          color: \"hsl(var(--chart-2))\",\n        },\n        farm: {\n          label: \"Farm\",\n          color: \"hsl(var(--chart-3))\",\n        },\n        reuse: {\n          label: \"Reuse\",\n          color: \"hsl(var(--chart-4))\",\n        },\n      }}\n      className=\"h-[350px] w-full\"\n    >\n      <ResponsiveContainer width=\"100%\" height=\"100%\">\n        <PieChart>\n          <Pie\n            data={data}\n            cx=\"50%\"\n            cy=\"50%\"\n            labelLine={false}\n            label={({ name, percent }) => `${name}: ${(percent * 100).toFixed(0)}%`}\n            outerRadius={100}\n            fill=\"#8884d8\"\n            dataKey=\"value\"\n          >\n            {data.map((entry, index) => (\n              <Cell key={`cell-${index}`} fill={COLORS[index % COLORS.length]} />\n            ))}\n          </Pie>\n          <ChartTooltip content={<ChartTooltipContent />} />\n          <Legend />\n        </PieChart>\n      </ResponsiveContainer>\n    </ChartContainer>\n  )\n}\n","\"use client\"\n\nimport { DashboardNav } from \"@/components/dashboard-nav\"\nimport { Card } from \"@/components/ui/card\"\nimport { Button } from \"@/components/ui/button\"\nimport { Users, Trash2, Heart, Award, TrendingUp, CheckCircle, XCircle } from \"lucide-react\"\nimport { AdminWasteChart } from \"@/components/admin-waste-chart\"\nimport { AdminActionsChart } from \"@/components/admin-actions-chart\"\nimport { withAuth } from \"@/components/with-auth\"\nimport { useState, useEffect } from \"react\"\nimport { toast } from \"sonner\"\n\nfunction AdminDashboardPage({ user }: { user: any }) {\n  const [stats, setStats] = useState({\n    totalWaste: 0,\n    donated: 0,\n    compost: 0,\n    dropped: 0,\n    pendingRequests: 0,\n    collectedRequests: 0,\n  })\n  const [recentEntries, setRecentEntries] = useState<any[]>([])\n  const [pickupRequests, setPickupRequests] = useState<any[]>([])\n  const [processingRequest, setProcessingRequest] = useState<string | null>(null)\n\n  // Fetch dashboard stats\n  const fetchStats = async () => {\n    try {\n      const storedUser = JSON.parse(localStorage.getItem(\"user\") || \"{}\")\n      if (!storedUser.userId) {\n        console.warn(\"No user ID found, skipping fetchStats\")\n        return\n      }\n\n      const response = await fetch(\"/api/admin/stats\", {\n        headers: {\n          \"x-user-id\": storedUser.userId,\n        },\n      })\n\n      if (response.ok) {\n        const data = await response.json()\n        setStats(data)\n      } else {\n        const errorData = await response.json().catch(() => ({ error: \"Unknown error\" }))\n        console.error(\"Error fetching stats:\", response.status, errorData)\n      }\n    } catch (error) {\n      // Only log network errors, don't show toast for background refresh failures\n      if (error instanceof TypeError && error.message === \"Failed to fetch\") {\n        console.warn(\"Network error fetching stats (this is normal if server is restarting):\", error)\n      } else {\n        console.error(\"Error fetching stats:\", error)\n      }\n    }\n  }\n\n  // Fetch recent waste entries\n  const fetchRecentEntries = async () => {\n    try {\n      const storedUser = JSON.parse(localStorage.getItem(\"user\") || \"{}\")\n      if (!storedUser.userId) {\n        console.warn(\"No user ID found, skipping fetchRecentEntries\")\n        return\n      }\n\n      const response = await fetch(\"/api/staff/waste\", {\n        headers: {\n          \"x-user-id\": storedUser.userId,\n        },\n      })\n\n      if (response.ok) {\n        const data = await response.json()\n        const entries = (data.entries || []).slice(0, 5).map((entry: any) => ({\n          id: entry.id,\n          itemName: entry.itemName,\n          type: entry.type,\n          quantity: entry.quantity,\n          assignedTo: entry.assignedTo,\n          status: entry.status,\n          createdAt: new Date(entry.createdAt).toLocaleString(),\n        }))\n        setRecentEntries(entries)\n      } else {\n        const errorData = await response.json().catch(() => ({ error: \"Unknown error\" }))\n        console.error(\"Error fetching recent entries:\", response.status, errorData)\n      }\n    } catch (error) {\n      // Only log network errors, don't show toast for background refresh failures\n      if (error instanceof TypeError && error.message === \"Failed to fetch\") {\n        console.warn(\"Network error fetching recent entries (this is normal if server is restarting):\", error)\n      } else {\n        console.error(\"Error fetching recent entries:\", error)\n      }\n    }\n  }\n\n  // Fetch pickup requests\n  const fetchPickupRequests = async () => {\n    try {\n      const storedUser = JSON.parse(localStorage.getItem(\"user\") || \"{}\")\n      if (!storedUser.userId) {\n        console.warn(\"No user ID found, skipping fetchPickupRequests\")\n        return\n      }\n\n      const response = await fetch(\"/api/admin/pickups\", {\n        headers: {\n          \"x-user-id\": storedUser.userId,\n        },\n      })\n\n      if (response.ok) {\n        const data = await response.json()\n        // The API returns id as pickupRequest.id (e.g., \"p1\"), NOT wasteId\n        // Validate that we're getting pickup request IDs\n        const validatedData = data.map((req: any) => {\n          // Safety check: log warning if we somehow get wasteId instead\n          if (req.id && req.id.startsWith(\"w\")) {\n            console.error(\"WARNING: API returned wasteId as id:\", req.id, \"This should be a pickup request ID!\")\n          }\n          return req\n        })\n        setPickupRequests(validatedData.slice(0, 5)) // Show latest 5\n      } else {\n        const errorData = await response.json().catch(() => ({ error: \"Unknown error\" }))\n        console.error(\"Error fetching pickup requests:\", response.status, errorData)\n      }\n    } catch (error) {\n      // Only log network errors, don't show toast for background refresh failures\n      if (error instanceof TypeError && error.message === \"Failed to fetch\") {\n        console.warn(\"Network error fetching pickup requests (this is normal if server is restarting):\", error)\n      } else {\n        console.error(\"Error fetching pickup requests:\", error)\n      }\n    }\n  }\n\n  // Handle approve pickup request\n  const handleApprove = async (pickupRequestId: string) => {\n    console.log(\"üîµ Approve button clicked! ID:\", pickupRequestId)\n    \n    if (!pickupRequestId) {\n      console.error(\"‚ùå No pickup request ID provided\")\n      toast.error(\"Error: Missing request ID\")\n      return\n    }\n\n    if (processingRequest) {\n      console.log(\"‚è≥ Already processing a request, skipping...\")\n      return\n    }\n    \n    setProcessingRequest(pickupRequestId)\n    \n    try {\n      const storedUser = JSON.parse(localStorage.getItem(\"user\") || \"{}\")\n      if (!storedUser.userId) {\n        toast.error(\"Please log in again\")\n        setProcessingRequest(null)\n        return\n      }\n\n      console.log(\"üì§ Sending approve request for ID:\", pickupRequestId)\n      const response = await fetch(`/api/admin/pickups/${pickupRequestId}/approve`, {\n        method: \"POST\",\n        headers: {\n          \"Content-Type\": \"application/json\",\n          \"x-user-id\": storedUser.userId,\n        },\n      })\n\n      console.log(\"üì• Response status:\", response.status)\n      const data = await response.json()\n      console.log(\"üì• Response data:\", data)\n\n      if (response.ok) {\n        // Optimistic update: Update the UI immediately\n        setPickupRequests((prev) =>\n          prev.map((req) =>\n            req.id === pickupRequestId\n              ? { ...req, status: \"approved\" }\n              : req\n          )\n        )\n        \n        // Update stats\n        setStats((prev) => ({\n          ...prev,\n          pendingRequests: Math.max(0, prev.pendingRequests - 1),\n        }))\n\n        // Find the item name for the notification\n        const approvedRequest = pickupRequests.find((r: any) => r.id === pickupRequestId)\n        const itemName = approvedRequest?.itemName || data.waste?.itemName || \"item\"\n        \n        // Show success notification with prominent styling\n        toast.success(\"‚úÖ Pickup Request Approved!\", {\n          description: `The pickup request for \"${itemName}\" has been approved successfully. The requester will be notified.`,\n          duration: 6000,\n          position: \"top-center\",\n        })\n        \n        // Refresh data to ensure consistency\n        setTimeout(() => {\n          fetchPickupRequests()\n          fetchStats()\n        }, 1000)\n      } else {\n        console.error(\"‚ùå Approve failed:\", data)\n        toast.error(\"‚ùå Approval Failed\", {\n          description: data.error || \"Failed to approve request. Please try again.\",\n          duration: 6000,\n          position: \"top-center\",\n        })\n      }\n    } catch (error) {\n      console.error(\"‚ùå Error approving request:\", error)\n      toast.error(\"‚ùå Error\", {\n        description: \"Something went wrong while approving the request. Please try again.\",\n        duration: 6000,\n        position: \"top-center\",\n      })\n    } finally {\n      setProcessingRequest(null)\n    }\n  }\n\n  // Handle reject pickup request\n  const handleReject = async (pickupRequestId: string) => {\n    console.log(\"üî¥ Reject button clicked! ID:\", pickupRequestId)\n    \n    if (!pickupRequestId) {\n      console.error(\"‚ùå No pickup request ID provided\")\n      toast.error(\"Error: Missing request ID\")\n      return\n    }\n\n    if (processingRequest) {\n      console.log(\"‚è≥ Already processing a request, skipping...\")\n      return\n    }\n    \n    setProcessingRequest(pickupRequestId)\n    \n    try {\n      const storedUser = JSON.parse(localStorage.getItem(\"user\") || \"{}\")\n      if (!storedUser.userId) {\n        toast.error(\"Please log in again\")\n        setProcessingRequest(null)\n        return\n      }\n\n      console.log(\"üì§ Sending reject request for ID:\", pickupRequestId)\n      const response = await fetch(`/api/admin/pickups/${pickupRequestId}/reject`, {\n        method: \"POST\",\n        headers: {\n          \"Content-Type\": \"application/json\",\n          \"x-user-id\": storedUser.userId,\n        },\n      })\n\n      console.log(\"üì• Response status:\", response.status)\n      const data = await response.json()\n      console.log(\"üì• Response data:\", data)\n\n      if (response.ok) {\n        // Optimistic update: Update the UI immediately\n        setPickupRequests((prev) =>\n          prev.map((req) =>\n            req.id === pickupRequestId\n              ? { ...req, status: \"rejected\" }\n              : req\n          )\n        )\n        \n        // Update stats\n        setStats((prev) => ({\n          ...prev,\n          pendingRequests: Math.max(0, prev.pendingRequests - 1),\n        }))\n\n        // Find the item name for the notification\n        const rejectedRequest = pickupRequests.find((r: any) => r.id === pickupRequestId)\n        const itemName = rejectedRequest?.itemName || \"item\"\n        \n        // Show rejection notification with prominent styling\n        toast.error(\"‚ùå Pickup Request Rejected\", {\n          description: `The pickup request for \"${itemName}\" has been rejected. The requester will be notified.`,\n          duration: 6000,\n          position: \"top-center\",\n        })\n        \n        // Refresh data to ensure consistency\n        setTimeout(() => {\n          fetchPickupRequests()\n          fetchStats()\n        }, 1000)\n      } else {\n        console.error(\"‚ùå Reject failed:\", data)\n        toast.error(\"‚ùå Rejection Failed\", {\n          description: data.error || \"Failed to reject request. Please try again.\",\n          duration: 6000,\n          position: \"top-center\",\n        })\n      }\n    } catch (error) {\n      console.error(\"‚ùå Error rejecting request:\", error)\n      toast.error(\"‚ùå Error\", {\n        description: \"Something went wrong while rejecting the request. Please try again.\",\n        duration: 6000,\n        position: \"top-center\",\n      })\n    } finally {\n      setProcessingRequest(null)\n    }\n  }\n\n  useEffect(() => {\n    fetchStats()\n    fetchRecentEntries()\n    fetchPickupRequests()\n\n    // Auto-refresh every 5 seconds\n    const interval = setInterval(() => {\n      fetchStats()\n      fetchRecentEntries()\n      fetchPickupRequests()\n    }, 5000)\n\n    return () => clearInterval(interval)\n  }, [])\n\n  const businesses = [\n    { name: \"Green Caf√©\", type: \"Caf√©\", email: \"contact@greencafe.com\", joined: \"2024-11-15\" },\n    { name: \"Eco Restaurant\", type: \"Restaurant\", email: \"hello@ecorestaurant.com\", joined: \"2024-12-01\" },\n    { name: \"Food Bank NGO\", type: \"NGO\", email: \"info@foodbank.org\", joined: \"2024-10-20\" },\n    { name: \"Sustainable Farm Co.\", type: \"Farm\", email: \"support@sustainablefarm.com\", joined: \"2024-09-10\" },\n    { name: \"Daily Brew Coffee\", type: \"Caf√©\", email: \"team@dailybrew.com\", joined: \"2024-12-15\" },\n  ]\n\n  return (\n    <div className=\"min-h-screen bg-background\">\n      <DashboardNav />\n\n      <main className=\"pt-20 px-4 pb-8\">\n        <div className=\"container mx-auto max-w-7xl\">\n          {/* Header with dark green accent */}\n          <div className=\"mb-8 p-6 rounded-lg bg-primary/5 border-l-4 border-primary\">\n            <div className=\"flex items-center gap-3 mb-2\">\n              <div className=\"w-10 h-10 rounded-lg bg-primary flex items-center justify-center\">\n                <Award className=\"w-6 h-6 text-primary-foreground\" />\n              </div>\n              <h1 className=\"font-display font-bold text-3xl text-foreground\">Admin Dashboard</h1>\n            </div>\n            <p className=\"text-muted-foreground\">System-wide sustainability metrics and user management</p>\n          </div>\n\n          {/* Overview Cards */}\n          <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8\">\n            <Card className=\"p-6 hover:shadow-lg transition-shadow border-l-4 border-l-primary\">\n              <div className=\"flex items-center justify-between mb-4\">\n                <div className=\"w-12 h-12 rounded-lg bg-primary/10 flex items-center justify-center\">\n                  <Trash2 className=\"w-6 h-6 text-primary\" />\n                </div>\n                <TrendingUp className=\"w-5 h-5 text-green-600\" />\n              </div>\n              <div className=\"text-3xl font-display font-bold text-foreground mb-1\">{stats.totalWaste} kg</div>\n              <div className=\"text-sm text-muted-foreground\">Total Waste Logged</div>\n            </Card>\n\n            <Card className=\"p-6 hover:shadow-lg transition-shadow border-l-4 border-l-red-500\">\n              <div className=\"flex items-center justify-between mb-4\">\n                <div className=\"w-12 h-12 rounded-lg bg-red-500/10 flex items-center justify-center\">\n                  <Heart className=\"w-6 h-6 text-red-500\" />\n                </div>\n                <TrendingUp className=\"w-5 h-5 text-green-600\" />\n              </div>\n              <div className=\"text-3xl font-display font-bold text-foreground mb-1\">{stats.donated} kg</div>\n              <div className=\"text-sm text-muted-foreground\">Total Donations</div>\n            </Card>\n\n            <Card className=\"p-6 hover:shadow-lg transition-shadow border-l-4 border-l-secondary\">\n              <div className=\"flex items-center justify-between mb-4\">\n                <div className=\"w-12 h-12 rounded-lg bg-secondary/10 flex items-center justify-center\">\n                  <Award className=\"w-6 h-6 text-secondary\" />\n                </div>\n                <TrendingUp className=\"w-5 h-5 text-green-600\" />\n              </div>\n              <div className=\"text-3xl font-display font-bold text-foreground mb-1\">{stats.compost} kg</div>\n              <div className=\"text-sm text-muted-foreground\">Composted</div>\n            </Card>\n\n            <Card className=\"p-6 hover:shadow-lg transition-shadow border-l-4 border-l-amber-500\">\n              <div className=\"flex items-center justify-between mb-4\">\n                <div className=\"w-12 h-12 rounded-lg bg-amber-500/10 flex items-center justify-center\">\n                  <Users className=\"w-6 h-6 text-amber-600\" />\n                </div>\n                <TrendingUp className=\"w-5 h-5 text-green-600\" />\n              </div>\n              <div className=\"text-3xl font-display font-bold text-foreground mb-1\">{stats.pendingRequests}</div>\n              <div className=\"text-sm text-muted-foreground\">Pending Requests</div>\n            </Card>\n          </div>\n\n          {/* Recent Entries and Pickup Requests Row */}\n          <div className=\"grid lg:grid-cols-2 gap-6 mb-8\">\n            {/* Recent Waste Entries */}\n            <Card className=\"p-6\">\n              <h3 className=\"font-display font-bold text-xl text-foreground mb-6\">Recent Waste Entries</h3>\n              {recentEntries.length === 0 ? (\n                <p className=\"text-muted-foreground text-center py-8\">No waste entries yet</p>\n              ) : (\n                <div className=\"overflow-x-auto\">\n                  <table className=\"w-full\">\n                    <thead>\n                      <tr className=\"border-b border-border\">\n                        <th className=\"text-left py-2 px-3 text-xs font-semibold text-muted-foreground\">Item</th>\n                        <th className=\"text-left py-2 px-3 text-xs font-semibold text-muted-foreground\">Type</th>\n                        <th className=\"text-left py-2 px-3 text-xs font-semibold text-muted-foreground\">Qty</th>\n                        <th className=\"text-left py-2 px-3 text-xs font-semibold text-muted-foreground\">Assigned</th>\n                        <th className=\"text-left py-2 px-3 text-xs font-semibold text-muted-foreground\">Status</th>\n                      </tr>\n                    </thead>\n                    <tbody>\n                      {recentEntries.map((entry) => (\n                        <tr key={entry.id} className=\"border-b border-border hover:bg-muted/50 transition-colors\">\n                          <td className=\"py-2 px-3 text-sm text-foreground\">{entry.itemName}</td>\n                          <td className=\"py-2 px-3 text-sm text-muted-foreground\">{entry.type}</td>\n                          <td className=\"py-2 px-3 text-sm text-foreground\">{entry.quantity} kg</td>\n                          <td className=\"py-2 px-3\">\n                            <span\n                              className={`inline-flex px-2 py-0.5 rounded-full text-xs font-medium ${\n                                entry.assignedTo === \"charity\"\n                                  ? \"bg-red-500/10 text-red-600\"\n                                  : \"bg-green-500/10 text-green-600\"\n                              }`}\n                            >\n                              {entry.assignedTo === \"charity\" ? \"Charity\" : \"Farmer\"}\n                            </span>\n                          </td>\n                          <td className=\"py-2 px-3\">\n                            <span\n                              className={`inline-flex px-2 py-0.5 rounded-full text-xs font-medium ${\n                                entry.status === \"collected\"\n                                  ? \"bg-primary/10 text-primary\"\n                                  : entry.status === \"dropped\"\n                                    ? \"bg-gray-500/10 text-gray-600\"\n                                    : \"bg-amber-500/10 text-amber-600\"\n                              }`}\n                            >\n                              {entry.status}\n                            </span>\n                          </td>\n                        </tr>\n                      ))}\n                    </tbody>\n                  </table>\n                </div>\n              )}\n            </Card>\n\n            {/* Recent Pickup Requests */}\n            <Card className=\"p-6\">\n              <h3 className=\"font-display font-bold text-xl text-foreground mb-6\">Recent Pickup Requests</h3>\n              {pickupRequests.length === 0 ? (\n                <p className=\"text-muted-foreground text-center py-8\">No pickup requests yet</p>\n              ) : (\n                <div className=\"overflow-x-auto\">\n                  <table className=\"w-full\">\n                    <thead>\n                      <tr className=\"border-b border-border\">\n                        <th className=\"text-left py-2 px-3 text-xs font-semibold text-muted-foreground\">Requester</th>\n                        <th className=\"text-left py-2 px-3 text-xs font-semibold text-muted-foreground\">Item</th>\n                        <th className=\"text-left py-2 px-3 text-xs font-semibold text-muted-foreground\">Qty</th>\n                        <th className=\"text-left py-2 px-3 text-xs font-semibold text-muted-foreground\">Preferred Time</th>\n                        <th className=\"text-left py-2 px-3 text-xs font-semibold text-muted-foreground\">Status</th>\n                        <th className=\"text-left py-2 px-3 text-xs font-semibold text-muted-foreground\">Actions</th>\n                      </tr>\n                    </thead>\n                    <tbody>\n                      {pickupRequests.map((request) => {\n                        // CRITICAL: request.id MUST be the pickup request ID (e.g., \"p1\"), NOT wasteId\n                        // The API endpoint /api/admin/pickups returns id: p.id (pickupRequest.id)\n                        const pickupRequestId = request.id\n                        \n                        // Log for debugging\n                        console.log(\"üìã Rendering request:\", {\n                          id: request.id,\n                          pickupRequestId,\n                          wasteId: request.wasteId,\n                          status: request.status,\n                          itemName: request.itemName\n                        })\n                        \n                        // Safety validation: log warning if we somehow get wasteId instead\n                        if (pickupRequestId && pickupRequestId.startsWith(\"w\")) {\n                          console.warn(\"‚ö†Ô∏è WARNING: Received wasteId instead of pickupRequestId:\", pickupRequestId)\n                          // Still render but log the issue\n                        }\n                        \n                        if (!pickupRequestId) {\n                          console.error(\"‚ùå ERROR: No ID found for request:\", request)\n                          return null\n                        }\n                        \n                        return (\n                          <tr key={pickupRequestId} className=\"border-b border-border hover:bg-muted/50 transition-colors\" onClick={(e) => e.stopPropagation()}>\n                            <td className=\"py-2 px-3 text-sm text-foreground\">\n                              <span\n                                className={`inline-flex px-2 py-0.5 rounded-full text-xs font-medium ${\n                                  request.requesterType === \"charity\"\n                                    ? \"bg-red-500/10 text-red-600\"\n                                    : \"bg-green-500/10 text-green-600\"\n                                }`}\n                              >\n                                {request.requesterName}\n                              </span>\n                            </td>\n                            <td className=\"py-2 px-3 text-sm text-foreground\">{request.itemName}</td>\n                            <td className=\"py-2 px-3 text-sm text-foreground\">{request.quantity} kg</td>\n                            <td className=\"py-2 px-3 text-sm text-muted-foreground\">\n                              {request.preferredTime ? (\n                                <div className=\"flex flex-col\">\n                                  <span className=\"font-medium text-foreground text-xs\">{request.preferredTime}</span>\n                                  {request.notes && (\n                                    <span className=\"text-xs text-muted-foreground mt-1\" title={request.notes}>\n                                      üìù {request.notes.length > 25 ? request.notes.substring(0, 25) + \"...\" : request.notes}\n                                    </span>\n                                  )}\n                                </div>\n                              ) : (\n                                <span className=\"text-xs text-muted-foreground\">Not specified</span>\n                              )}\n                            </td>\n                            <td className=\"py-2 px-3\">\n                              <span\n                                className={`inline-flex items-center gap-1 px-2 py-0.5 rounded-full text-xs font-medium transition-all ${\n                                  request.status === \"collected\"\n                                    ? \"bg-primary/10 text-primary border border-primary/20\"\n                                    : request.status === \"approved\"\n                                      ? \"bg-green-500/10 text-green-600 border border-green-500/20\"\n                                      : request.status === \"rejected\"\n                                        ? \"bg-red-500/10 text-red-600 border border-red-500/20\"\n                                        : \"bg-amber-500/10 text-amber-600 border border-amber-500/20\"\n                                }`}\n                              >\n                                {request.status === \"approved\" && <CheckCircle className=\"w-3 h-3\" />}\n                                {request.status === \"rejected\" && <XCircle className=\"w-3 h-3\" />}\n                                <span className=\"capitalize\">{request.status}</span>\n                              </span>\n                            </td>\n                            <td className=\"py-2 px-3\">\n                              {request.status === \"pending\" ? (\n                                <div className=\"flex gap-2\" onClick={(e) => e.stopPropagation()}>\n                                  <Button\n                                    type=\"button\"\n                                    size=\"sm\"\n                                    disabled={processingRequest === pickupRequestId}\n                                    className=\"bg-primary hover:bg-primary/90 h-8 text-xs cursor-pointer disabled:opacity-50 disabled:cursor-not-allowed pointer-events-auto z-10 relative\"\n                                    onClick={(e) => {\n                                      e.preventDefault()\n                                      e.stopPropagation()\n                                      if (processingRequest === pickupRequestId) {\n                                        console.log(\"‚è≥ Already processing this request, ignoring click\")\n                                        return\n                                      }\n                                      console.log(\"‚úÖ Approve button clicked for request:\", request)\n                                      console.log(\"‚úÖ Using pickupRequestId:\", pickupRequestId)\n                                      handleApprove(pickupRequestId)\n                                    }}\n                                  >\n                                    <CheckCircle className=\"w-3 h-3 mr-1\" />\n                                    {processingRequest === pickupRequestId ? \"Processing...\" : \"Approve\"}\n                                  </Button>\n                                  <Button\n                                    type=\"button\"\n                                    size=\"sm\"\n                                    variant=\"outline\"\n                                    disabled={processingRequest === pickupRequestId}\n                                    className=\"h-8 text-xs bg-transparent border-red-500 text-red-600 hover:bg-red-50 hover:text-red-700 cursor-pointer disabled:opacity-50 disabled:cursor-not-allowed pointer-events-auto z-10 relative\"\n                                    onClick={(e) => {\n                                      e.preventDefault()\n                                      e.stopPropagation()\n                                      if (processingRequest === pickupRequestId) {\n                                        console.log(\"‚è≥ Already processing this request, ignoring click\")\n                                        return\n                                      }\n                                      console.log(\"‚ùå Reject button clicked for request:\", request)\n                                      console.log(\"‚ùå Using pickupRequestId:\", pickupRequestId)\n                                      handleReject(pickupRequestId)\n                                    }}\n                                  >\n                                    <XCircle className=\"w-3 h-3 mr-1\" />\n                                    {processingRequest === pickupRequestId ? \"Processing...\" : \"Reject\"}\n                                  </Button>\n                                </div>\n                              ) : request.status === \"approved\" ? (\n                                <Button\n                                  size=\"sm\"\n                                  disabled\n                                  className=\"bg-green-500/10 text-green-600 border border-green-500/20 h-8 text-xs cursor-default\"\n                                >\n                                  <CheckCircle className=\"w-3 h-3 mr-1\" />\n                                  Approved\n                                </Button>\n                              ) : request.status === \"rejected\" ? (\n                                <Button\n                                  size=\"sm\"\n                                  variant=\"outline\"\n                                  disabled\n                                  className=\"bg-red-500/10 text-red-600 border border-red-500/20 h-8 text-xs cursor-default\"\n                                >\n                                  <XCircle className=\"w-3 h-3 mr-1\" />\n                                  Rejected\n                                </Button>\n                              ) : (\n                                <span className=\"text-sm text-muted-foreground capitalize\">{request.status}</span>\n                              )}\n                            </td>\n                          </tr>\n                        )\n                      })}\n                    </tbody>\n                  </table>\n                </div>\n              )}\n            </Card>\n          </div>\n\n          {/* Charts Row */}\n          <div className=\"grid lg:grid-cols-2 gap-6 mb-8\">\n            <Card className=\"p-6\">\n              <h3 className=\"font-display font-bold text-xl text-foreground mb-6\">Waste by Business Type</h3>\n              <AdminWasteChart />\n            </Card>\n\n            <Card className=\"p-6\">\n              <h3 className=\"font-display font-bold text-xl text-foreground mb-6\">Action Type Distribution</h3>\n              <AdminActionsChart />\n            </Card>\n          </div>\n\n          {/* All Businesses Table */}\n          <Card className=\"p-6\">\n            <h3 className=\"font-display font-bold text-xl text-foreground mb-6\">All Registered Businesses</h3>\n            <div className=\"overflow-x-auto\">\n              <table className=\"w-full\">\n                <thead>\n                  <tr className=\"border-b border-border\">\n                    <th className=\"text-left py-3 px-4 font-display font-semibold text-sm text-muted-foreground\">\n                      Name\n                    </th>\n                    <th className=\"text-left py-3 px-4 font-display font-semibold text-sm text-muted-foreground\">\n                      Type\n                    </th>\n                    <th className=\"text-left py-3 px-4 font-display font-semibold text-sm text-muted-foreground\">\n                      Email\n                    </th>\n                    <th className=\"text-left py-3 px-4 font-display font-semibold text-sm text-muted-foreground\">\n                      Joined Date\n                    </th>\n                  </tr>\n                </thead>\n                <tbody>\n                  {businesses.map((business, index) => (\n                    <tr key={index} className=\"border-b border-border hover:bg-muted/50 transition-colors\">\n                      <td className=\"py-4 px-4 text-foreground font-medium\">{business.name}</td>\n                      <td className=\"py-4 px-4\">\n                        <span\n                          className={`inline-flex px-3 py-1 rounded-full text-xs font-medium ${\n                            business.type === \"Caf√©\"\n                              ? \"bg-primary/10 text-primary\"\n                              : business.type === \"NGO\"\n                                ? \"bg-red-500/10 text-red-600\"\n                                : business.type === \"Farm\"\n                                  ? \"bg-secondary/10 text-secondary\"\n                                  : \"bg-muted text-muted-foreground\"\n                          }`}\n                        >\n                          {business.type}\n                        </span>\n                      </td>\n                      <td className=\"py-4 px-4 text-muted-foreground\">{business.email}</td>\n                      <td className=\"py-4 px-4 text-muted-foreground\">{business.joined}</td>\n                    </tr>\n                  ))}\n                </tbody>\n              </table>\n            </div>\n          </Card>\n        </div>\n      </main>\n    </div>\n  )\n}\n\nexport default withAuth(AdminDashboardPage, [\"admin\"])\n","import createLucideIcon from '../createLucideIcon';\n\n/**\n * @component @name Users\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cGF0aCBkPSJNMTYgMjF2LTJhNCA0IDAgMCAwLTQtNEg2YTQgNCAwIDAgMC00IDR2MiIgLz4KICA8Y2lyY2xlIGN4PSI5IiBjeT0iNyIgcj0iNCIgLz4KICA8cGF0aCBkPSJNMjIgMjF2LTJhNCA0IDAgMCAwLTMtMy44NyIgLz4KICA8cGF0aCBkPSJNMTYgMy4xM2E0IDQgMCAwIDEgMCA3Ljc1IiAvPgo8L3N2Zz4K) - https://lucide.dev/icons/users\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst Users = createLucideIcon('Users', [\n  ['path', { d: 'M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2', key: '1yyitq' }],\n  ['circle', { cx: '9', cy: '7', r: '4', key: 'nufk8' }],\n  ['path', { d: 'M22 21v-2a4 4 0 0 0-3-3.87', key: 'kshegd' }],\n  ['path', { d: 'M16 3.13a4 4 0 0 1 0 7.75', key: '1da9ce' }],\n]);\n\nexport default Users;\n"],"names":[],"mappings":"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","ignoreList":[2]}