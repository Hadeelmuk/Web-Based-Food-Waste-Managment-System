{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 46, "column": 0}, "map": {"version":3,"sources":["file:///D:/CS%20Y3/FYP/FWMS/FWMS/app/api/_data.ts"],"sourcesContent":["import type { User, WasteLog, PickupRequest, ActivityLog, Transport, Notification } from \"./_types\"\r\n\r\n// Dummy users (in-memory). Use x-user-id header to pick one.\r\nexport const users: User[] = [\r\n  {\r\n    id: \"u-admin-1\",\r\n    name: \"Alice Admin\",\r\n    email: \"alice@greencafe.com\",\r\n    passwordHash: \"password\", // TODO: hash passwords\r\n    role: \"admin\",\r\n    organizationName: \"Green Café\",\r\n    cafeId: \"cafe-1\",\r\n  },\r\n  {\r\n    id: \"u-staff-1\",\r\n    name: \"Sam Staff\",\r\n    email: \"sam@greencafe.com\",\r\n    passwordHash: \"password\",\r\n    role: \"staff\",\r\n    organizationName: \"Green Café\",\r\n    cafeId: \"cafe-1\",\r\n  },\r\n  {\r\n    id: \"u-charity-1\",\r\n    name: \"Charlie Charity\",\r\n    email: \"charity@help.org\",\r\n    passwordHash: \"password\",\r\n    role: \"charity\",\r\n    organizationName: \"Hope Charity\",\r\n    cafeId: null,\r\n  },\r\n  {\r\n    id: \"u-farmer-1\",\r\n    name: \"Fiona Farmer\",\r\n    email: \"farm@soil.com\",\r\n    passwordHash: \"password\",\r\n    role: \"farmer\",\r\n    organizationName: \"Soil & Co\",\r\n    cafeId: null,\r\n  },\r\n]\r\n\r\nexport const wasteLogs: WasteLog[] = [\r\n  {\r\n    id: \"w1\",\r\n    cafeId: \"cafe-1\",\r\n    type: \"edible\",\r\n    itemName: \"Pastries\",\r\n    quantity: 15,\r\n    expiryDate: \"2025-12-05\",\r\n    status: \"pending\",\r\n    assignedTo: \"charity\",\r\n    createdAt: \"2025-12-01T08:00:00Z\",\r\n    updatedAt: \"2025-12-01T08:00:00Z\",\r\n  },\r\n  {\r\n    id: \"w2\",\r\n    cafeId: \"cafe-1\",\r\n    type: \"organic\",\r\n    itemName: \"Vegetable Scraps\",\r\n    quantity: 22,\r\n    expiryDate: \"2025-12-04\",\r\n    status: \"pending\",\r\n    assignedTo: \"farmer\",\r\n    createdAt: \"2025-12-01T09:00:00Z\",\r\n    updatedAt: \"2025-12-01T09:00:00Z\",\r\n  },\r\n  {\r\n    id: \"w3\",\r\n    cafeId: \"cafe-1\",\r\n    type: \"coffee\",\r\n    itemName: \"Coffee Grounds\",\r\n    quantity: 10,\r\n    expiryDate: \"2025-12-03\",\r\n    status: \"collected\",\r\n    assignedTo: \"farmer\",\r\n    createdAt: \"2025-11-30T10:00:00Z\",\r\n    updatedAt: \"2025-12-01T10:00:00Z\",\r\n  },\r\n  {\r\n    id: \"w4\",\r\n    cafeId: \"cafe-1\",\r\n    type: \"edible\",\r\n    itemName: \"Sandwiches\",\r\n    quantity: 8,\r\n    expiryDate: \"2025-12-02\",\r\n    status: \"dropped\",\r\n    assignedTo: \"charity\",\r\n    createdAt: \"2025-11-30T11:00:00Z\",\r\n    updatedAt: \"2025-12-01T11:00:00Z\",\r\n  },\r\n  // Add more available items for charity\r\n  {\r\n    id: \"w5\",\r\n    cafeId: \"cafe-1\",\r\n    type: \"edible\",\r\n    itemName: \"Fresh Bread\",\r\n    quantity: 12,\r\n    expiryDate: \"2025-12-10\",\r\n    status: \"pending\",\r\n    assignedTo: \"charity\",\r\n    createdAt: new Date().toISOString(),\r\n    updatedAt: new Date().toISOString(),\r\n  },\r\n  {\r\n    id: \"w6\",\r\n    cafeId: \"cafe-1\",\r\n    type: \"edible\",\r\n    itemName: \"Muffins & Croissants\",\r\n    quantity: 20,\r\n    expiryDate: \"2025-12-08\",\r\n    status: \"pending\",\r\n    assignedTo: \"charity\",\r\n    createdAt: new Date().toISOString(),\r\n    updatedAt: new Date().toISOString(),\r\n  },\r\n  // Add more available items for farmer\r\n  {\r\n    id: \"w7\",\r\n    cafeId: \"cafe-1\",\r\n    type: \"organic\",\r\n    itemName: \"Fruit Peels\",\r\n    quantity: 15,\r\n    expiryDate: \"2025-12-09\",\r\n    status: \"pending\",\r\n    assignedTo: \"farmer\",\r\n    createdAt: new Date().toISOString(),\r\n    updatedAt: new Date().toISOString(),\r\n  },\r\n  {\r\n    id: \"w8\",\r\n    cafeId: \"cafe-1\",\r\n    type: \"coffee\",\r\n    itemName: \"Used Coffee Grounds\",\r\n    quantity: 18,\r\n    expiryDate: \"2025-12-07\",\r\n    status: \"pending\",\r\n    assignedTo: \"farmer\",\r\n    createdAt: new Date().toISOString(),\r\n    updatedAt: new Date().toISOString(),\r\n  },\r\n]\r\n\r\nexport const pickupRequests: PickupRequest[] = [\r\n  {\r\n    id: \"p1\",\r\n    wasteId: \"w1\",\r\n    requesterId: \"u-charity-1\",\r\n    requesterType: \"charity\",\r\n    requestedAt: \"2025-12-01T12:00:00Z\",\r\n    status: \"pending\",\r\n    preferredTime: \"Morning\",\r\n  },\r\n  {\r\n    id: \"p2\",\r\n    wasteId: \"w2\",\r\n    requesterId: \"u-farmer-1\",\r\n    requesterType: \"farmer\",\r\n    requestedAt: \"2025-12-01T13:00:00Z\",\r\n    status: \"approved\",\r\n  },\r\n  {\r\n    id: \"p3\",\r\n    wasteId: \"w3\",\r\n    requesterId: \"u-farmer-1\",\r\n    requesterType: \"farmer\",\r\n    requestedAt: \"2025-11-30T13:00:00Z\",\r\n    status: \"collected\",\r\n  },\r\n  // Add approved charity request\r\n  {\r\n    id: \"p4\",\r\n    wasteId: \"w5\",\r\n    requesterId: \"u-charity-1\",\r\n    requesterType: \"charity\",\r\n    requestedAt: new Date().toISOString(),\r\n    status: \"approved\",\r\n    notes: \"Please pack in boxes\",\r\n  },\r\n  // Add another approved charity request\r\n  {\r\n    id: \"p5\",\r\n    wasteId: \"w6\",\r\n    requesterId: \"u-charity-1\",\r\n    requesterType: \"charity\",\r\n    requestedAt: new Date().toISOString(),\r\n    status: \"approved\",\r\n  },\r\n  // Add approved farmer request\r\n  {\r\n    id: \"p6\",\r\n    wasteId: \"w7\",\r\n    requesterId: \"u-farmer-1\",\r\n    requesterType: \"farmer\",\r\n    requestedAt: new Date().toISOString(),\r\n    status: \"approved\",\r\n  },\r\n  // Add another approved farmer request\r\n  {\r\n    id: \"p7\",\r\n    wasteId: \"w8\",\r\n    requesterId: \"u-farmer-1\",\r\n    requesterType: \"farmer\",\r\n    requestedAt: new Date().toISOString(),\r\n    status: \"approved\",\r\n  },\r\n]\r\n\r\nexport const activityLogs: ActivityLog[] = [\r\n  {\r\n    id: \"a1\",\r\n    userId: \"u-staff-1\",\r\n    actionType: \"logged\",\r\n    itemName: \"Pastries\",\r\n    createdAt: \"2025-12-01T08:00:00Z\",\r\n  },\r\n  {\r\n    id: \"a2\",\r\n    userId: \"u-charity-1\",\r\n    actionType: \"donationRequested\",\r\n    itemName: \"Pastries\",\r\n    createdAt: \"2025-12-01T12:05:00Z\",\r\n  },\r\n  {\r\n    id: \"a3\",\r\n    userId: \"u-farmer-1\",\r\n    actionType: \"farmRequest\",\r\n    itemName: \"Vegetable Scraps\",\r\n    createdAt: \"2025-12-01T13:05:00Z\",\r\n  },\r\n  {\r\n    id: \"a4\",\r\n    userId: \"u-admin-1\",\r\n    actionType: \"dropped\",\r\n    itemName: \"Sandwiches\",\r\n    createdAt: \"2025-12-01T14:00:00Z\",\r\n  },\r\n]\r\n\r\nexport const transports: Transport[] = []\r\n\r\nexport const notifications: Notification[] = []\r\n\r\n"],"names":[],"mappings":";;;;;;;;;;;;;;AAGO,MAAM,QAAgB;IAC3B;QACE,IAAI;QACJ,MAAM;QACN,OAAO;QACP,cAAc;QACd,MAAM;QACN,kBAAkB;QAClB,QAAQ;IACV;IACA;QACE,IAAI;QACJ,MAAM;QACN,OAAO;QACP,cAAc;QACd,MAAM;QACN,kBAAkB;QAClB,QAAQ;IACV;IACA;QACE,IAAI;QACJ,MAAM;QACN,OAAO;QACP,cAAc;QACd,MAAM;QACN,kBAAkB;QAClB,QAAQ;IACV;IACA;QACE,IAAI;QACJ,MAAM;QACN,OAAO;QACP,cAAc;QACd,MAAM;QACN,kBAAkB;QAClB,QAAQ;IACV;CACD;AAEM,MAAM,YAAwB;IACnC;QACE,IAAI;QACJ,QAAQ;QACR,MAAM;QACN,UAAU;QACV,UAAU;QACV,YAAY;QACZ,QAAQ;QACR,YAAY;QACZ,WAAW;QACX,WAAW;IACb;IACA;QACE,IAAI;QACJ,QAAQ;QACR,MAAM;QACN,UAAU;QACV,UAAU;QACV,YAAY;QACZ,QAAQ;QACR,YAAY;QACZ,WAAW;QACX,WAAW;IACb;IACA;QACE,IAAI;QACJ,QAAQ;QACR,MAAM;QACN,UAAU;QACV,UAAU;QACV,YAAY;QACZ,QAAQ;QACR,YAAY;QACZ,WAAW;QACX,WAAW;IACb;IACA;QACE,IAAI;QACJ,QAAQ;QACR,MAAM;QACN,UAAU;QACV,UAAU;QACV,YAAY;QACZ,QAAQ;QACR,YAAY;QACZ,WAAW;QACX,WAAW;IACb;IACA,uCAAuC;IACvC;QACE,IAAI;QACJ,QAAQ;QACR,MAAM;QACN,UAAU;QACV,UAAU;QACV,YAAY;QACZ,QAAQ;QACR,YAAY;QACZ,WAAW,IAAI,OAAO,WAAW;QACjC,WAAW,IAAI,OAAO,WAAW;IACnC;IACA;QACE,IAAI;QACJ,QAAQ;QACR,MAAM;QACN,UAAU;QACV,UAAU;QACV,YAAY;QACZ,QAAQ;QACR,YAAY;QACZ,WAAW,IAAI,OAAO,WAAW;QACjC,WAAW,IAAI,OAAO,WAAW;IACnC;IACA,sCAAsC;IACtC;QACE,IAAI;QACJ,QAAQ;QACR,MAAM;QACN,UAAU;QACV,UAAU;QACV,YAAY;QACZ,QAAQ;QACR,YAAY;QACZ,WAAW,IAAI,OAAO,WAAW;QACjC,WAAW,IAAI,OAAO,WAAW;IACnC;IACA;QACE,IAAI;QACJ,QAAQ;QACR,MAAM;QACN,UAAU;QACV,UAAU;QACV,YAAY;QACZ,QAAQ;QACR,YAAY;QACZ,WAAW,IAAI,OAAO,WAAW;QACjC,WAAW,IAAI,OAAO,WAAW;IACnC;CACD;AAEM,MAAM,iBAAkC;IAC7C;QACE,IAAI;QACJ,SAAS;QACT,aAAa;QACb,eAAe;QACf,aAAa;QACb,QAAQ;QACR,eAAe;IACjB;IACA;QACE,IAAI;QACJ,SAAS;QACT,aAAa;QACb,eAAe;QACf,aAAa;QACb,QAAQ;IACV;IACA;QACE,IAAI;QACJ,SAAS;QACT,aAAa;QACb,eAAe;QACf,aAAa;QACb,QAAQ;IACV;IACA,+BAA+B;IAC/B;QACE,IAAI;QACJ,SAAS;QACT,aAAa;QACb,eAAe;QACf,aAAa,IAAI,OAAO,WAAW;QACnC,QAAQ;QACR,OAAO;IACT;IACA,uCAAuC;IACvC;QACE,IAAI;QACJ,SAAS;QACT,aAAa;QACb,eAAe;QACf,aAAa,IAAI,OAAO,WAAW;QACnC,QAAQ;IACV;IACA,8BAA8B;IAC9B;QACE,IAAI;QACJ,SAAS;QACT,aAAa;QACb,eAAe;QACf,aAAa,IAAI,OAAO,WAAW;QACnC,QAAQ;IACV;IACA,sCAAsC;IACtC;QACE,IAAI;QACJ,SAAS;QACT,aAAa;QACb,eAAe;QACf,aAAa,IAAI,OAAO,WAAW;QACnC,QAAQ;IACV;CACD;AAEM,MAAM,eAA8B;IACzC;QACE,IAAI;QACJ,QAAQ;QACR,YAAY;QACZ,UAAU;QACV,WAAW;IACb;IACA;QACE,IAAI;QACJ,QAAQ;QACR,YAAY;QACZ,UAAU;QACV,WAAW;IACb;IACA;QACE,IAAI;QACJ,QAAQ;QACR,YAAY;QACZ,UAAU;QACV,WAAW;IACb;IACA;QACE,IAAI;QACJ,QAAQ;QACR,YAAY;QACZ,UAAU;QACV,WAAW;IACb;CACD;AAEM,MAAM,aAA0B,EAAE;AAElC,MAAM,gBAAgC,EAAE","debugId":null}},
    {"offset": {"line": 298, "column": 0}, "map": {"version":3,"sources":["file:///D:/CS%20Y3/FYP/FWMS/FWMS/app/api/_auth.ts"],"sourcesContent":["import { NextRequest, NextResponse } from \"next/server\"\r\nimport { users } from \"./_data\"\r\nimport type { User } from \"./_types\"\r\n\r\n// Simple helper to get a user from the x-user-id header.\r\nexport function getUser(req: NextRequest): User | null {\r\n  const userId = req.headers.get(\"x-user-id\")\r\n  if (!userId) return null\r\n  return users.find((u) => u.id === userId) || null\r\n}\r\n\r\ntype GuardResult = { user: User | null; response: NextResponse | null }\r\n\r\nfunction requireRole(req: NextRequest, role: User[\"role\"]): GuardResult {\r\n  const user = getUser(req)\r\n  if (!user) {\r\n    return { user: null, response: NextResponse.json({ error: \"Unauthorized\" }, { status: 401 }) }\r\n  }\r\n  if (user.role !== role) {\r\n    return {\r\n      user: null,\r\n      response: NextResponse.json({ error: `Forbidden: ${role} only` }, { status: 403 }),\r\n    }\r\n  }\r\n  return { user, response: null }\r\n}\r\n\r\nexport function requireAdmin(req: NextRequest) {\r\n  const base = requireRole(req, \"admin\")\r\n  if (!base.user || base.response) return base\r\n  if (!base.user.cafeId) {\r\n    return { user: null, response: NextResponse.json({ error: \"Admin has no cafe assigned\" }, { status: 400 }) }\r\n  }\r\n  return base\r\n}\r\n\r\nexport function requireStaff(req: NextRequest) {\r\n  const base = requireRole(req, \"staff\")\r\n  if (!base.user || base.response) return base\r\n  if (!base.user.cafeId) {\r\n    return { user: null, response: NextResponse.json({ error: \"Staff has no cafe assigned\" }, { status: 400 }) }\r\n  }\r\n  return base\r\n}\r\n\r\nexport function requireCharity(req: NextRequest) {\r\n  return requireRole(req, \"charity\")\r\n}\r\n\r\nexport function requireFarmer(req: NextRequest) {\r\n  return requireRole(req, \"farmer\")\r\n}\r\n\r\n"],"names":[],"mappings":";;;;;;;;;;;;AAAA;AACA;;;AAIO,SAAS,QAAQ,GAAgB;IACtC,MAAM,SAAS,IAAI,OAAO,CAAC,GAAG,CAAC;IAC/B,IAAI,CAAC,QAAQ,OAAO;IACpB,OAAO,sIAAK,CAAC,IAAI,CAAC,CAAC,IAAM,EAAE,EAAE,KAAK,WAAW;AAC/C;AAIA,SAAS,YAAY,GAAgB,EAAE,IAAkB;IACvD,MAAM,OAAO,QAAQ;IACrB,IAAI,CAAC,MAAM;QACT,OAAO;YAAE,MAAM;YAAM,UAAU,wJAAY,CAAC,IAAI,CAAC;gBAAE,OAAO;YAAe,GAAG;gBAAE,QAAQ;YAAI;QAAG;IAC/F;IACA,IAAI,KAAK,IAAI,KAAK,MAAM;QACtB,OAAO;YACL,MAAM;YACN,UAAU,wJAAY,CAAC,IAAI,CAAC;gBAAE,OAAO,CAAC,WAAW,EAAE,KAAK,KAAK,CAAC;YAAC,GAAG;gBAAE,QAAQ;YAAI;QAClF;IACF;IACA,OAAO;QAAE;QAAM,UAAU;IAAK;AAChC;AAEO,SAAS,aAAa,GAAgB;IAC3C,MAAM,OAAO,YAAY,KAAK;IAC9B,IAAI,CAAC,KAAK,IAAI,IAAI,KAAK,QAAQ,EAAE,OAAO;IACxC,IAAI,CAAC,KAAK,IAAI,CAAC,MAAM,EAAE;QACrB,OAAO;YAAE,MAAM;YAAM,UAAU,wJAAY,CAAC,IAAI,CAAC;gBAAE,OAAO;YAA6B,GAAG;gBAAE,QAAQ;YAAI;QAAG;IAC7G;IACA,OAAO;AACT;AAEO,SAAS,aAAa,GAAgB;IAC3C,MAAM,OAAO,YAAY,KAAK;IAC9B,IAAI,CAAC,KAAK,IAAI,IAAI,KAAK,QAAQ,EAAE,OAAO;IACxC,IAAI,CAAC,KAAK,IAAI,CAAC,MAAM,EAAE;QACrB,OAAO;YAAE,MAAM;YAAM,UAAU,wJAAY,CAAC,IAAI,CAAC;gBAAE,OAAO;YAA6B,GAAG;gBAAE,QAAQ;YAAI;QAAG;IAC7G;IACA,OAAO;AACT;AAEO,SAAS,eAAe,GAAgB;IAC7C,OAAO,YAAY,KAAK;AAC1B;AAEO,SAAS,cAAc,GAAgB;IAC5C,OAAO,YAAY,KAAK;AAC1B","debugId":null}},
    {"offset": {"line": 386, "column": 0}, "map": {"version":3,"sources":["file:///D:/CS%20Y3/FYP/FWMS/FWMS/app/api/staff/waste/route.ts"],"sourcesContent":["import { NextRequest, NextResponse } from \"next/server\"\nimport { requireStaff, requireAdmin } from \"@/app/api/_auth\"\nimport { activityLogs, wasteLogs } from \"@/app/api/_data\"\nimport type { WasteLog } from \"@/app/api/_types\"\n\ntype CreateWasteBody = {\n  cafeId: string\n  staffUserId: string\n  type: \"edible\" | \"organic\" | \"coffee\" | \"recyclable\"\n  itemName: string\n  quantity: number\n  expiryDate: string\n  assignedTo: \"charity\" | \"farmer\"\n  notes?: string\n}\n\n// GET /api/staff/waste\n// Also allows admin users to access waste entries\nexport async function GET(req: NextRequest) {\n  try {\n    // Try staff first, then admin\n    let authResult = requireStaff(req)\n    \n    // If staff auth fails, try admin auth\n    if (!authResult.user || authResult.response) {\n      authResult = requireAdmin(req)\n    }\n    \n    if (!authResult.user || authResult.response) {\n      const errorResponse = authResult.response || NextResponse.json({ error: \"Unauthorized\" }, { status: 401 })\n      errorResponse.headers.set(\"Content-Type\", \"application/json\")\n      return errorResponse\n    }\n\n    const user = authResult.user\n\n    // Get all waste logs for this cafe, sorted by most recent\n    const cafeWaste = wasteLogs\n      .filter((w) => w.cafeId === user.cafeId)\n      .sort((a, b) => b.createdAt.localeCompare(a.createdAt))\n\n    const response = NextResponse.json({\n      entries: cafeWaste,\n      total: cafeWaste.length,\n    })\n    response.headers.set(\"Content-Type\", \"application/json\")\n    return response\n  } catch (error) {\n    console.error(\"[GET /api/staff/waste] Error:\", error)\n    const errorResponse = NextResponse.json(\n      { \n        error: \"Internal server error\", \n        message: error instanceof Error ? error.message : String(error)\n      },\n      { status: 500 }\n    )\n    errorResponse.headers.set(\"Content-Type\", \"application/json\")\n    return errorResponse\n  }\n}\n\n// POST /api/staff/waste\nexport async function POST(req: NextRequest) {\n  try {\n    const authResult = requireStaff(req)\n    \n    if (!authResult.user || authResult.response) {\n      return authResult.response || NextResponse.json({ error: \"Unauthorized\" }, { status: 401 })\n    }\n\n    const user = authResult.user\n\n    let body: Partial<CreateWasteBody>\n    try {\n      body = await req.json()\n    } catch (error) {\n      return NextResponse.json({ error: \"Invalid JSON in request body\" }, { status: 400 })\n    }\n\n    // Basic validation\n    const required = [\"cafeId\", \"staffUserId\", \"type\", \"itemName\", \"quantity\", \"expiryDate\", \"assignedTo\"] as const\n    for (const key of required) {\n      if (!body[key]) {\n        return NextResponse.json({ error: `Missing field: ${key}` }, { status: 400 })\n      }\n    }\n\n    // Validate assignedTo matches type\n    if (body.type === \"edible\" && body.assignedTo !== \"charity\") {\n      return NextResponse.json(\n        { error: \"Edible waste must be assigned to 'charity'\" },\n        { status: 400 }\n      )\n    }\n    if ((body.type === \"organic\" || body.type === \"coffee\") && body.assignedTo !== \"farmer\") {\n      return NextResponse.json(\n        { error: \"Organic/coffee waste must be assigned to 'farmer'\" },\n        { status: 400 }\n      )\n    }\n\n    if (!user.cafeId) {\n      return NextResponse.json(\n        { error: \"User is not associated with a cafe\" },\n        { status: 400 }\n      )\n    }\n\n    const now = new Date().toISOString()\n    const newWaste: WasteLog = {\n      id: `w-${Date.now()}`,\n      cafeId: user.cafeId,\n      type: body.type as WasteLog[\"type\"],\n      itemName: body.itemName!,\n      quantity: Number(body.quantity),\n      expiryDate: body.expiryDate!,\n      status: \"pending\",\n      assignedTo: body.assignedTo!,\n      createdAt: now,\n      updatedAt: now,\n      notes: body.notes,\n    }\n\n    wasteLogs.push(newWaste)\n\n    // Debug: Log the created waste item\n    console.log(`[Staff Waste] ✅ Created waste item:`, {\n      id: newWaste.id,\n      itemName: newWaste.itemName,\n      type: newWaste.type,\n      assignedTo: newWaste.assignedTo,\n      status: newWaste.status,\n      quantity: newWaste.quantity,\n    })\n    console.log(`[Staff Waste] Total waste logs now: ${wasteLogs.length}`)\n\n    activityLogs.push({\n      id: `a-${Date.now()}`,\n      userId: user.id,\n      actionType: \"logged\",\n      itemName: newWaste.itemName,\n      createdAt: now,\n    })\n\n    return NextResponse.json(\n      {\n        message: \"Waste successfully added\",\n        wasteId: newWaste.id,\n        waste: newWaste,\n      },\n      { status: 201 }\n    )\n  } catch (error) {\n    console.error(\"[POST /api/staff/waste] Error:\", error)\n    return NextResponse.json(\n      { \n        error: \"Internal server error\", \n        message: error instanceof Error ? error.message : String(error)\n      },\n      { status: 500 }\n    )\n  }\n}\n"],"names":[],"mappings":"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","debugId":null}}]
}