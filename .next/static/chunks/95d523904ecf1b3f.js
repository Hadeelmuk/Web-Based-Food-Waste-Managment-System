(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,6320,e=>{"use strict";let t=(0,e.i(81033).default)("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);e.s(["CheckCircle",()=>t],6320)},94557,e=>{"use strict";var t=e.i(19063),r=e.i(18165),a=e.i(84277);function n(e,n){return function(s){let i=(0,a.useRouter)(),[o,l]=(0,r.useState)(null);return((0,r.useEffect)(()=>{localStorage.removeItem("demo_user");let e=localStorage.getItem("user"),t=e?JSON.parse(e):null;t?.role&&t?.userId?n.includes(t.role)?l(t):i.replace("/not-authorized"):i.replace("/login")},[n,i]),o)?(0,t.jsx)(e,{...s,user:o}):null}}e.s(["withAuth",()=>n])},96083,80019,60036,87854,e=>{"use strict";var t=e.i(19063),r=e.i(50697),a=e.i(84277),n=e.i(5808),s=e.i(80120),i=e.i(81033);let o=(0,i.default)("LayoutDashboard",[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]]),l=(0,i.default)("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);e.s(["Trash2",()=>l],80019);let c=(0,i.default)("Award",[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]]);e.s(["Award",()=>c],60036);let d=(0,i.default)("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]),u=(0,i.default)("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]),p=(0,i.default)("Truck",[["path",{d:"M14 18V6a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2v11a1 1 0 0 0 1 1h2",key:"wrbu53"}],["path",{d:"M15 18H9",key:"1lyqi6"}],["path",{d:"M19 18h2a1 1 0 0 0 1-1v-3.65a1 1 0 0 0-.22-.624l-3.48-4.35A1 1 0 0 0 17.52 8H14",key:"lysw3i"}],["circle",{cx:"17",cy:"18",r:"2",key:"332jqn"}],["circle",{cx:"7",cy:"18",r:"2",key:"19iecd"}]]);e.s(["Truck",()=>p],87854);var f=e.i(48537),m=e.i(18165);function h(){let{logout:e,user:i}=(0,n.useAuth)(),h=(0,a.useRouter)(),[g,y]=(0,m.useState)("");return(0,m.useEffect)(()=>{(async()=>{try{let e=JSON.parse(localStorage.getItem("user")||"{}");if(!e.userId)return;e.businessName&&y(e.businessName);let t=await fetch("/api/user/profile",{headers:{"x-user-id":e.userId}});if(t.ok){let e=await t.json(),r=e.business?.name||e.name||"";y(r)}}catch(e){console.error("Error fetching business name:",e)}})();let e=e=>{e.detail?.businessName&&y(e.detail.businessName)};return window.addEventListener("profileUpdated",e),()=>{window.removeEventListener("profileUpdated",e)}},[]),(0,t.jsx)("nav",{className:"fixed top-0 w-full bg-card border-b border-border z-50",children:(0,t.jsx)("div",{className:"container mx-auto px-4 py-4",children:(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)(r.default,{href:"/dashboard",className:"flex items-center gap-3 hover:opacity-80 transition-opacity",children:[(0,t.jsx)(f.default,{src:"/placeholder-logo.png",alt:"From Plate to Plant Logo",width:40,height:40,className:"h-10 w-10 object-contain",priority:!0}),(0,t.jsx)("span",{className:"font-display font-bold text-xl text-foreground",children:"From Plate to Plant"})]}),(0,t.jsxs)("div",{className:"hidden md:flex items-center gap-1",children:[(0,t.jsx)(r.default,{href:"/dashboard",children:(0,t.jsxs)(s.Button,{variant:"ghost",className:"text-foreground hover:text-primary",children:[(0,t.jsx)(o,{className:"w-4 h-4 mr-2"}),"Dashboard"]})}),(0,t.jsx)(r.default,{href:"/dashboard/log-waste",children:(0,t.jsxs)(s.Button,{variant:"ghost",className:"text-foreground hover:text-primary",children:[(0,t.jsx)(l,{className:"w-4 h-4 mr-2"}),"Log Waste"]})}),(0,t.jsx)(r.default,{href:"/dashboard/transportation",children:(0,t.jsxs)(s.Button,{variant:"ghost",className:"text-foreground hover:text-primary",children:[(0,t.jsx)(p,{className:"w-4 h-4 mr-2"}),"Transport"]})}),(0,t.jsx)(r.default,{href:"/dashboard/points",children:(0,t.jsxs)(s.Button,{variant:"ghost",className:"text-foreground hover:text-primary",children:[(0,t.jsx)(c,{className:"w-4 h-4 mr-2"}),"Points"]})})]}),(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(g||i)&&(0,t.jsx)("span",{className:"text-sm text-muted-foreground hidden lg:block font-medium",children:g||i?.organizationName||i?.email||"Signed in"}),(0,t.jsx)(r.default,{href:"/dashboard/settings",children:(0,t.jsx)(s.Button,{variant:"ghost",size:"icon",title:"Settings",children:(0,t.jsx)(d,{className:"w-5 h-5"})})}),(0,t.jsxs)(s.Button,{variant:"ghost",className:"text-foreground hover:text-destructive",onClick:()=>{localStorage.removeItem("user"),e(),h.push("/login")},children:[(0,t.jsx)(u,{className:"w-4 h-4 mr-2"}),"Logout"]})]})]})})})}e.s(["DashboardNav",()=>h],96083)},32232,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0});var a={assign:function(){return l},searchParamsToUrlQuery:function(){return s},urlQueryToSearchParams:function(){return o}};for(var n in a)Object.defineProperty(r,n,{enumerable:!0,get:a[n]});function s(e){let t={};for(let[r,a]of e.entries()){let e=t[r];void 0===e?t[r]=a:Array.isArray(e)?e.push(a):t[r]=[e,a]}return t}function i(e){return"string"==typeof e?e:("number"!=typeof e||isNaN(e))&&"boolean"!=typeof e?"":String(e)}function o(e){let t=new URLSearchParams;for(let[r,a]of Object.entries(e))if(Array.isArray(a))for(let e of a)t.append(r,i(e));else t.set(r,i(a));return t}function l(e,...t){for(let r of t){for(let t of r.keys())e.delete(t);for(let[t,a]of r.entries())e.append(t,a)}return e}},86172,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0});var a={formatUrl:function(){return o},formatWithValidation:function(){return c},urlObjectKeys:function(){return l}};for(var n in a)Object.defineProperty(r,n,{enumerable:!0,get:a[n]});let s=e.r(37952)._(e.r(32232)),i=/https?|ftp|gopher|file/;function o(e){let{auth:t,hostname:r}=e,a=e.protocol||"",n=e.pathname||"",o=e.hash||"",l=e.query||"",c=!1;t=t?encodeURIComponent(t).replace(/%3A/i,":")+"@":"",e.host?c=t+e.host:r&&(c=t+(~r.indexOf(":")?`[${r}]`:r),e.port&&(c+=":"+e.port)),l&&"object"==typeof l&&(l=String(s.urlQueryToSearchParams(l)));let d=e.search||l&&`?${l}`||"";return a&&!a.endsWith(":")&&(a+=":"),e.slashes||(!a||i.test(a))&&!1!==c?(c="//"+(c||""),n&&"/"!==n[0]&&(n="/"+n)):c||(c=""),o&&"#"!==o[0]&&(o="#"+o),d&&"?"!==d[0]&&(d="?"+d),n=n.replace(/[?#]/g,encodeURIComponent),d=d.replace("#","%23"),`${a}${c}${n}${d}${o}`}let l=["auth","hash","host","hostname","href","path","pathname","port","protocol","query","search","slashes"];function c(e){return o(e)}},76304,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0});var a={DecodeError:function(){return y},MiddlewareNotFoundError:function(){return j},MissingStaticPage:function(){return v},NormalizeError:function(){return x},PageNotFoundError:function(){return b},SP:function(){return h},ST:function(){return g},WEB_VITALS:function(){return s},execOnce:function(){return i},getDisplayName:function(){return u},getLocationOrigin:function(){return c},getURL:function(){return d},isAbsoluteUrl:function(){return l},isResSent:function(){return p},loadGetInitialProps:function(){return m},normalizeRepeatedSlashes:function(){return f},stringifyError:function(){return w}};for(var n in a)Object.defineProperty(r,n,{enumerable:!0,get:a[n]});let s=["CLS","FCP","FID","INP","LCP","TTFB"];function i(e){let t,r=!1;return(...a)=>(r||(r=!0,t=e(...a)),t)}let o=/^[a-zA-Z][a-zA-Z\d+\-.]*?:/,l=e=>o.test(e);function c(){let{protocol:e,hostname:t,port:r}=window.location;return`${e}//${t}${r?":"+r:""}`}function d(){let{href:e}=window.location,t=c();return e.substring(t.length)}function u(e){return"string"==typeof e?e:e.displayName||e.name||"Unknown"}function p(e){return e.finished||e.headersSent}function f(e){let t=e.split("?");return t[0].replace(/\\/g,"/").replace(/\/\/+/g,"/")+(t[1]?`?${t.slice(1).join("?")}`:"")}async function m(e,t){let r=t.res||t.ctx&&t.ctx.res;if(!e.getInitialProps)return t.ctx&&t.Component?{pageProps:await m(t.Component,t.ctx)}:{};let a=await e.getInitialProps(t);if(r&&p(r))return a;if(!a)throw Object.defineProperty(Error(`"${u(e)}.getInitialProps()" should resolve to an object. But found "${a}" instead.`),"__NEXT_ERROR_CODE",{value:"E394",enumerable:!1,configurable:!0});return a}let h="undefined"!=typeof performance,g=h&&["mark","measure","getEntriesByName"].every(e=>"function"==typeof performance[e]);class y extends Error{}class x extends Error{}class b extends Error{constructor(e){super(),this.code="ENOENT",this.name="PageNotFoundError",this.message=`Cannot find module for page: ${e}`}}class v extends Error{constructor(e,t){super(),this.message=`Failed to load static file for page: ${e} ${t}`}}class j extends Error{constructor(){super(),this.code="ENOENT",this.message="Cannot find the middleware module"}}function w(e){return JSON.stringify({message:e.message,stack:e.stack})}},81546,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),Object.defineProperty(r,"isLocalURL",{enumerable:!0,get:function(){return s}});let a=e.r(76304),n=e.r(17622);function s(e){if(!(0,a.isAbsoluteUrl)(e))return!0;try{let t=(0,a.getLocationOrigin)(),r=new URL(e,t);return r.origin===t&&(0,n.hasBasePath)(r.pathname)}catch(e){return!1}}},56102,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),Object.defineProperty(r,"errorOnce",{enumerable:!0,get:function(){return a}});let a=e=>{}},50697,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0});var a={default:function(){return y},useLinkStatus:function(){return b}};for(var n in a)Object.defineProperty(r,n,{enumerable:!0,get:a[n]});let s=e.r(37952),i=e.r(19063),o=s._(e.r(18165)),l=e.r(86172),c=e.r(39021),d=e.r(12773),u=e.r(76304),p=e.r(2872);e.r(44926);let f=e.r(79512),m=e.r(81546),h=e.r(7383);function g(e){return"string"==typeof e?e:(0,l.formatUrl)(e)}function y(t){var r;let a,n,s,[l,y]=(0,o.useOptimistic)(f.IDLE_LINK_STATUS),b=(0,o.useRef)(null),{href:v,as:j,children:w,prefetch:N=null,passHref:P,replace:E,shallow:S,scroll:O,onClick:A,onMouseEnter:k,onTouchStart:C,legacyBehavior:R=!1,onNavigate:I,ref:T,unstable_dynamicOnHover:_,...D}=t;a=w,R&&("string"==typeof a||"number"==typeof a)&&(a=(0,i.jsx)("a",{children:a}));let M=o.default.useContext(c.AppRouterContext),L=!1!==N,q=!1!==N?null===(r=N)||"auto"===r?h.FetchStrategy.PPR:h.FetchStrategy.Full:h.FetchStrategy.PPR,{href:z,as:B}=o.default.useMemo(()=>{let e=g(v);return{href:e,as:j?g(j):e}},[v,j]);if(R){if(a?.$$typeof===Symbol.for("react.lazy"))throw Object.defineProperty(Error("`<Link legacyBehavior>` received a direct child that is either a Server Component, or JSX that was loaded with React.lazy(). This is not supported. Either remove legacyBehavior, or make the direct child a Client Component that renders the Link's `<a>` tag."),"__NEXT_ERROR_CODE",{value:"E863",enumerable:!1,configurable:!0});n=o.default.Children.only(a)}let $=R?n&&"object"==typeof n&&n.ref:T,F=o.default.useCallback(e=>(null!==M&&(b.current=(0,f.mountLinkInstance)(e,z,M,q,L,y)),()=>{b.current&&((0,f.unmountLinkForCurrentNavigation)(b.current),b.current=null),(0,f.unmountPrefetchableInstance)(e)}),[L,z,M,q,y]),U={ref:(0,d.useMergedRef)(F,$),onClick(t){R||"function"!=typeof A||A(t),R&&n.props&&"function"==typeof n.props.onClick&&n.props.onClick(t),!M||t.defaultPrevented||function(t,r,a,n,s,i,l){if("undefined"!=typeof window){let c,{nodeName:d}=t.currentTarget;if("A"===d.toUpperCase()&&((c=t.currentTarget.getAttribute("target"))&&"_self"!==c||t.metaKey||t.ctrlKey||t.shiftKey||t.altKey||t.nativeEvent&&2===t.nativeEvent.which)||t.currentTarget.hasAttribute("download"))return;if(!(0,m.isLocalURL)(r)){s&&(t.preventDefault(),location.replace(r));return}if(t.preventDefault(),l){let e=!1;if(l({preventDefault:()=>{e=!0}}),e)return}let{dispatchNavigateAction:u}=e.r(82364);o.default.startTransition(()=>{u(a||r,s?"replace":"push",i??!0,n.current)})}}(t,z,B,b,E,O,I)},onMouseEnter(e){R||"function"!=typeof k||k(e),R&&n.props&&"function"==typeof n.props.onMouseEnter&&n.props.onMouseEnter(e),M&&L&&(0,f.onNavigationIntent)(e.currentTarget,!0===_)},onTouchStart:function(e){R||"function"!=typeof C||C(e),R&&n.props&&"function"==typeof n.props.onTouchStart&&n.props.onTouchStart(e),M&&L&&(0,f.onNavigationIntent)(e.currentTarget,!0===_)}};return(0,u.isAbsoluteUrl)(B)?U.href=B:R&&!P&&("a"!==n.type||"href"in n.props)||(U.href=(0,p.addBasePath)(B)),s=R?o.default.cloneElement(n,U):(0,i.jsx)("a",{...D,...U,children:a}),(0,i.jsx)(x.Provider,{value:l,children:s})}e.r(56102);let x=(0,o.createContext)(f.IDLE_LINK_STATUS),b=()=>(0,o.useContext)(x);("function"==typeof r.default||"object"==typeof r.default&&null!==r.default)&&void 0===r.default.__esModule&&(Object.defineProperty(r.default,"__esModule",{value:!0}),Object.assign(r.default,r),t.exports=r.default)},44926,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),Object.defineProperty(r,"warnOnce",{enumerable:!0,get:function(){return a}});let a=e=>{}},12773,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),Object.defineProperty(r,"useMergedRef",{enumerable:!0,get:function(){return n}});let a=e.r(18165);function n(e,t){let r=(0,a.useRef)(null),n=(0,a.useRef)(null);return(0,a.useCallback)(a=>{if(null===a){let e=r.current;e&&(r.current=null,e());let t=n.current;t&&(n.current=null,t())}else e&&(r.current=s(e,a)),t&&(n.current=s(t,a))},[e,t])}function s(e,t){if("function"!=typeof e)return e.current=t,()=>{e.current=null};{let r=e(t);return"function"==typeof r?r:()=>e(null)}}("function"==typeof r.default||"object"==typeof r.default&&null!==r.default)&&void 0===r.default.__esModule&&(Object.defineProperty(r.default,"__esModule",{value:!0}),Object.assign(r.default,r),t.exports=r.default)},34819,(e,t,r)=>{"use strict";function a({widthInt:e,heightInt:t,blurWidth:r,blurHeight:a,blurDataURL:n,objectFit:s}){let i=r?40*r:e,o=a?40*a:t,l=i&&o?`viewBox='0 0 ${i} ${o}'`:"";return`%3Csvg xmlns='http://www.w3.org/2000/svg' ${l}%3E%3Cfilter id='b' color-interpolation-filters='sRGB'%3E%3CfeGaussianBlur stdDeviation='20'/%3E%3CfeColorMatrix values='1 0 0 0 0 0 1 0 0 0 0 0 1 0 0 0 0 0 100 -1' result='s'/%3E%3CfeFlood x='0' y='0' width='100%25' height='100%25'/%3E%3CfeComposite operator='out' in='s'/%3E%3CfeComposite in2='SourceGraphic'/%3E%3CfeGaussianBlur stdDeviation='20'/%3E%3C/filter%3E%3Cimage width='100%25' height='100%25' x='0' y='0' preserveAspectRatio='${l?"none":"contain"===s?"xMidYMid":"cover"===s?"xMidYMid slice":"none"}' style='filter: url(%23b);' href='${n}'/%3E%3C/svg%3E`}Object.defineProperty(r,"__esModule",{value:!0}),Object.defineProperty(r,"getImageBlurSvg",{enumerable:!0,get:function(){return a}})},64113,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0});var a={VALID_LOADERS:function(){return s},imageConfigDefault:function(){return i}};for(var n in a)Object.defineProperty(r,n,{enumerable:!0,get:a[n]});let s=["default","imgix","cloudinary","akamai","custom"],i={deviceSizes:[640,750,828,1080,1200,1920,2048,3840],imageSizes:[32,48,64,96,128,256,384],path:"/_next/image",loader:"default",loaderFile:"",domains:[],disableStaticImages:!1,minimumCacheTTL:14400,formats:["image/webp"],maximumRedirects:3,dangerouslyAllowLocalIP:!1,dangerouslyAllowSVG:!1,contentSecurityPolicy:"script-src 'none'; frame-src 'none'; sandbox;",contentDispositionType:"attachment",localPatterns:void 0,remotePatterns:[],qualities:[75],unoptimized:!1}},47791,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),Object.defineProperty(r,"getImgProps",{enumerable:!0,get:function(){return l}}),e.r(44926);let a=e.r(34819),n=e.r(64113),s=["-moz-initial","fill","none","scale-down",void 0];function i(e){return void 0!==e.default}function o(e){return void 0===e?e:"number"==typeof e?Number.isFinite(e)?e:NaN:"string"==typeof e&&/^[0-9]+$/.test(e)?parseInt(e,10):NaN}function l({src:e,sizes:t,unoptimized:r=!1,priority:l=!1,preload:c=!1,loading:d,className:u,quality:p,width:f,height:m,fill:h=!1,style:g,overrideSrc:y,onLoad:x,onLoadingComplete:b,placeholder:v="empty",blurDataURL:j,fetchPriority:w,decoding:N="async",layout:P,objectFit:E,objectPosition:S,lazyBoundary:O,lazyRoot:A,...k},C){var R;let I,T,_,{imgConf:D,showAltText:M,blurComplete:L,defaultLoader:q}=C,z=D||n.imageConfigDefault;if("allSizes"in z)I=z;else{let e=[...z.deviceSizes,...z.imageSizes].sort((e,t)=>e-t),t=z.deviceSizes.sort((e,t)=>e-t),r=z.qualities?.sort((e,t)=>e-t);I={...z,allSizes:e,deviceSizes:t,qualities:r}}if(void 0===q)throw Object.defineProperty(Error("images.loaderFile detected but the file is missing default export.\nRead more: https://nextjs.org/docs/messages/invalid-images-config"),"__NEXT_ERROR_CODE",{value:"E163",enumerable:!1,configurable:!0});let B=k.loader||q;delete k.loader,delete k.srcSet;let $="__next_img_default"in B;if($){if("custom"===I.loader)throw Object.defineProperty(Error(`Image with src "${e}" is missing "loader" prop.
Read more: https://nextjs.org/docs/messages/next-image-missing-loader`),"__NEXT_ERROR_CODE",{value:"E252",enumerable:!1,configurable:!0})}else{let e=B;B=t=>{let{config:r,...a}=t;return e(a)}}if(P){"fill"===P&&(h=!0);let e={intrinsic:{maxWidth:"100%",height:"auto"},responsive:{width:"100%",height:"auto"}}[P];e&&(g={...g,...e});let r={responsive:"100vw",fill:"100vw"}[P];r&&!t&&(t=r)}let F="",U=o(f),K=o(m);if((R=e)&&"object"==typeof R&&(i(R)||void 0!==R.src)){let t=i(e)?e.default:e;if(!t.src)throw Object.defineProperty(Error(`An object should only be passed to the image component src parameter if it comes from a static image import. It must include src. Received ${JSON.stringify(t)}`),"__NEXT_ERROR_CODE",{value:"E460",enumerable:!1,configurable:!0});if(!t.height||!t.width)throw Object.defineProperty(Error(`An object should only be passed to the image component src parameter if it comes from a static image import. It must include height and width. Received ${JSON.stringify(t)}`),"__NEXT_ERROR_CODE",{value:"E48",enumerable:!1,configurable:!0});if(T=t.blurWidth,_=t.blurHeight,j=j||t.blurDataURL,F=t.src,!h)if(U||K){if(U&&!K){let e=U/t.width;K=Math.round(t.height*e)}else if(!U&&K){let e=K/t.height;U=Math.round(t.width*e)}}else U=t.width,K=t.height}let V=!l&&!c&&("lazy"===d||void 0===d);(!(e="string"==typeof e?e:F)||e.startsWith("data:")||e.startsWith("blob:"))&&(r=!0,V=!1),I.unoptimized&&(r=!0),$&&!I.dangerouslyAllowSVG&&e.split("?",1)[0].endsWith(".svg")&&(r=!0);let W=o(p),G=Object.assign(h?{position:"absolute",height:"100%",width:"100%",left:0,top:0,right:0,bottom:0,objectFit:E,objectPosition:S}:{},M?{}:{color:"transparent"},g),X=L||"empty"===v?null:"blur"===v?`url("data:image/svg+xml;charset=utf-8,${(0,a.getImageBlurSvg)({widthInt:U,heightInt:K,blurWidth:T,blurHeight:_,blurDataURL:j||"",objectFit:G.objectFit})}")`:`url("${v}")`,J=s.includes(G.objectFit)?"fill"===G.objectFit?"100% 100%":"cover":G.objectFit,H=X?{backgroundSize:J,backgroundPosition:G.objectPosition||"50% 50%",backgroundRepeat:"no-repeat",backgroundImage:X}:{},Q=function({config:e,src:t,unoptimized:r,width:a,quality:n,sizes:s,loader:i}){if(r)return{src:t,srcSet:void 0,sizes:void 0};let{widths:o,kind:l}=function({deviceSizes:e,allSizes:t},r,a){if(a){let r=/(^|\s)(1?\d?\d)vw/g,n=[];for(let e;e=r.exec(a);)n.push(parseInt(e[2]));if(n.length){let r=.01*Math.min(...n);return{widths:t.filter(t=>t>=e[0]*r),kind:"w"}}return{widths:t,kind:"w"}}return"number"!=typeof r?{widths:e,kind:"w"}:{widths:[...new Set([r,2*r].map(e=>t.find(t=>t>=e)||t[t.length-1]))],kind:"x"}}(e,a,s),c=o.length-1;return{sizes:s||"w"!==l?s:"100vw",srcSet:o.map((r,a)=>`${i({config:e,src:t,quality:n,width:r})} ${"w"===l?r:a+1}${l}`).join(", "),src:i({config:e,src:t,quality:n,width:o[c]})}}({config:I,src:e,unoptimized:r,width:U,quality:W,sizes:t,loader:B}),Z=V?"lazy":d;return{props:{...k,loading:Z,fetchPriority:w,width:U,height:K,decoding:N,className:u,style:{...G,...H},sizes:Q.sizes,srcSet:Q.srcSet,src:y||Q.src},meta:{unoptimized:r,preload:c||l,placeholder:v,fill:h}}}},33366,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),Object.defineProperty(r,"default",{enumerable:!0,get:function(){return o}});let a=e.r(18165),n="undefined"==typeof window,s=n?()=>{}:a.useLayoutEffect,i=n?()=>{}:a.useEffect;function o(e){let{headManager:t,reduceComponentsToState:r}=e;function o(){if(t&&t.mountedInstances){let e=a.Children.toArray(Array.from(t.mountedInstances).filter(Boolean));t.updateHead(r(e))}}return n&&(t?.mountedInstances?.add(e.children),o()),s(()=>(t?.mountedInstances?.add(e.children),()=>{t?.mountedInstances?.delete(e.children)})),s(()=>(t&&(t._pendingUpdate=o),()=>{t&&(t._pendingUpdate=o)})),i(()=>(t&&t._pendingUpdate&&(t._pendingUpdate(),t._pendingUpdate=null),()=>{t&&t._pendingUpdate&&(t._pendingUpdate(),t._pendingUpdate=null)})),null}},32245,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0});var a={default:function(){return h},defaultHead:function(){return u}};for(var n in a)Object.defineProperty(r,n,{enumerable:!0,get:a[n]});let s=e.r(78813),i=e.r(37952),o=e.r(19063),l=i._(e.r(18165)),c=s._(e.r(33366)),d=e.r(43107);function u(){return[(0,o.jsx)("meta",{charSet:"utf-8"},"charset"),(0,o.jsx)("meta",{name:"viewport",content:"width=device-width"},"viewport")]}function p(e,t){return"string"==typeof t||"number"==typeof t?e:t.type===l.default.Fragment?e.concat(l.default.Children.toArray(t.props.children).reduce((e,t)=>"string"==typeof t||"number"==typeof t?e:e.concat(t),[])):e.concat(t)}e.r(44926);let f=["name","httpEquiv","charSet","itemProp"];function m(e){let t,r,a,n;return e.reduce(p,[]).reverse().concat(u().reverse()).filter((t=new Set,r=new Set,a=new Set,n={},e=>{let s=!0,i=!1;if(e.key&&"number"!=typeof e.key&&e.key.indexOf("$")>0){i=!0;let r=e.key.slice(e.key.indexOf("$")+1);t.has(r)?s=!1:t.add(r)}switch(e.type){case"title":case"base":r.has(e.type)?s=!1:r.add(e.type);break;case"meta":for(let t=0,r=f.length;t<r;t++){let r=f[t];if(e.props.hasOwnProperty(r))if("charSet"===r)a.has(r)?s=!1:a.add(r);else{let t=e.props[r],a=n[r]||new Set;("name"!==r||!i)&&a.has(t)?s=!1:(a.add(t),n[r]=a)}}}return s})).reverse().map((e,t)=>{let r=e.key||t;return l.default.cloneElement(e,{key:r})})}let h=function({children:e}){let t=(0,l.useContext)(d.HeadManagerContext);return(0,o.jsx)(c.default,{reduceComponentsToState:m,headManager:t,children:e})};("function"==typeof r.default||"object"==typeof r.default&&null!==r.default)&&void 0===r.default.__esModule&&(Object.defineProperty(r.default,"__esModule",{value:!0}),Object.assign(r.default,r),t.exports=r.default)},89331,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),Object.defineProperty(r,"ImageConfigContext",{enumerable:!0,get:function(){return s}});let a=e.r(78813)._(e.r(18165)),n=e.r(64113),s=a.default.createContext(n.imageConfigDefault)},24988,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),Object.defineProperty(r,"RouterContext",{enumerable:!0,get:function(){return a}});let a=e.r(78813)._(e.r(18165)).default.createContext(null)},56041,(e,t,r)=>{"use strict";function a(e,t){let r=e||75;return t?.qualities?.length?t.qualities.reduce((e,t)=>Math.abs(t-r)<Math.abs(e-r)?t:e,0):r}Object.defineProperty(r,"__esModule",{value:!0}),Object.defineProperty(r,"findClosestQuality",{enumerable:!0,get:function(){return a}})},43589,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),Object.defineProperty(r,"default",{enumerable:!0,get:function(){return s}});let a=e.r(56041);function n({config:e,src:t,width:r,quality:n}){if(t.startsWith("/")&&t.includes("?")&&e.localPatterns?.length===1&&"**"===e.localPatterns[0].pathname&&""===e.localPatterns[0].search)throw Object.defineProperty(Error(`Image with src "${t}" is using a query string which is not configured in images.localPatterns.
Read more: https://nextjs.org/docs/messages/next-image-unconfigured-localpatterns`),"__NEXT_ERROR_CODE",{value:"E871",enumerable:!1,configurable:!0});let s=(0,a.findClosestQuality)(n,e);return`${e.path}?url=${encodeURIComponent(t)}&w=${r}&q=${s}${t.startsWith("/_next/static/media/"),""}`}n.__next_img_default=!0;let s=n},53138,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),Object.defineProperty(r,"Image",{enumerable:!0,get:function(){return v}});let a=e.r(78813),n=e.r(37952),s=e.r(19063),i=n._(e.r(18165)),o=a._(e.r(57659)),l=a._(e.r(32245)),c=e.r(47791),d=e.r(64113),u=e.r(89331);e.r(44926);let p=e.r(24988),f=a._(e.r(43589)),m=e.r(12773),h={deviceSizes:[640,750,828,1080,1200,1920,2048,3840],imageSizes:[32,48,64,96,128,256,384],qualities:[75],path:"/_next/image",loader:"default",dangerouslyAllowSVG:!1,unoptimized:!0};function g(e,t,r,a,n,s,i){let o=e?.src;e&&e["data-loaded-src"]!==o&&(e["data-loaded-src"]=o,("decode"in e?e.decode():Promise.resolve()).catch(()=>{}).then(()=>{if(e.parentElement&&e.isConnected){if("empty"!==t&&n(!0),r?.current){let t=new Event("load");Object.defineProperty(t,"target",{writable:!1,value:e});let a=!1,n=!1;r.current({...t,nativeEvent:t,currentTarget:e,target:e,isDefaultPrevented:()=>a,isPropagationStopped:()=>n,persist:()=>{},preventDefault:()=>{a=!0,t.preventDefault()},stopPropagation:()=>{n=!0,t.stopPropagation()}})}a?.current&&a.current(e)}}))}function y(e){return i.use?{fetchPriority:e}:{fetchpriority:e}}"undefined"==typeof window&&(globalThis.__NEXT_IMAGE_IMPORTED=!0);let x=(0,i.forwardRef)(({src:e,srcSet:t,sizes:r,height:a,width:n,decoding:o,className:l,style:c,fetchPriority:d,placeholder:u,loading:p,unoptimized:f,fill:h,onLoadRef:x,onLoadingCompleteRef:b,setBlurComplete:v,setShowAltText:j,sizesInput:w,onLoad:N,onError:P,...E},S)=>{let O=(0,i.useCallback)(e=>{e&&(P&&(e.src=e.src),e.complete&&g(e,u,x,b,v,f,w))},[e,u,x,b,v,P,f,w]),A=(0,m.useMergedRef)(S,O);return(0,s.jsx)("img",{...E,...y(d),loading:p,width:n,height:a,decoding:o,"data-nimg":h?"fill":"1",className:l,style:c,sizes:r,srcSet:t,src:e,ref:A,onLoad:e=>{g(e.currentTarget,u,x,b,v,f,w)},onError:e=>{j(!0),"empty"!==u&&v(!0),P&&P(e)}})});function b({isAppRouter:e,imgAttributes:t}){let r={as:"image",imageSrcSet:t.srcSet,imageSizes:t.sizes,crossOrigin:t.crossOrigin,referrerPolicy:t.referrerPolicy,...y(t.fetchPriority)};return e&&o.default.preload?(o.default.preload(t.src,r),null):(0,s.jsx)(l.default,{children:(0,s.jsx)("link",{rel:"preload",href:t.srcSet?void 0:t.src,...r},"__nimg-"+t.src+t.srcSet+t.sizes)})}let v=(0,i.forwardRef)((e,t)=>{let r=(0,i.useContext)(p.RouterContext),a=(0,i.useContext)(u.ImageConfigContext),n=(0,i.useMemo)(()=>{let e=h||a||d.imageConfigDefault,t=[...e.deviceSizes,...e.imageSizes].sort((e,t)=>e-t),r=e.deviceSizes.sort((e,t)=>e-t),n=e.qualities?.sort((e,t)=>e-t);return{...e,allSizes:t,deviceSizes:r,qualities:n,localPatterns:"undefined"==typeof window?a?.localPatterns:e.localPatterns}},[a]),{onLoad:o,onLoadingComplete:l}=e,m=(0,i.useRef)(o);(0,i.useEffect)(()=>{m.current=o},[o]);let g=(0,i.useRef)(l);(0,i.useEffect)(()=>{g.current=l},[l]);let[y,v]=(0,i.useState)(!1),[j,w]=(0,i.useState)(!1),{props:N,meta:P}=(0,c.getImgProps)(e,{defaultLoader:f.default,imgConf:n,blurComplete:y,showAltText:j});return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(x,{...N,unoptimized:P.unoptimized,placeholder:P.placeholder,fill:P.fill,onLoadRef:m,onLoadingCompleteRef:g,setBlurComplete:v,setShowAltText:w,sizesInput:e.sizes,ref:t}),P.preload?(0,s.jsx)(b,{isAppRouter:!r,imgAttributes:N}):null]})});("function"==typeof r.default||"object"==typeof r.default&&null!==r.default)&&void 0===r.default.__esModule&&(Object.defineProperty(r.default,"__esModule",{value:!0}),Object.assign(r.default,r),t.exports=r.default)},28739,e=>{"use strict";var t=e.i(19063),r=e.i(30003);function a({className:e,...a}){return(0,t.jsx)("div",{"data-slot":"card",className:(0,r.cn)("bg-card text-card-foreground flex flex-col gap-6 rounded-xl border py-6 shadow-sm",e),...a})}e.s(["Card",()=>a])},78857,e=>{"use strict";let t=(0,e.i(81033).default)("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]);e.s(["Heart",()=>t],78857)},36672,77096,25675,e=>{"use strict";let t=(0,e.i(81033).default)("CircleX",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);e.s(["XCircle",()=>t],36672),e.s(["Pie",()=>ej,"computePieSectors",()=>eg],77096);var r=e.i(18165),a=e.i(45811),n=e.i(57551),s=e.i(86330),i=e.i(49033),o=e.i(31884),l=e.i(43963),c=e.i(32377),d=e.i(77813),u=e.i(43643),p=e.i(23043),f=e.i(50778),m=e=>e.graphicalItems.polarItems,h=(0,s.createSelector)([u.pickAxisType,p.pickAxisId],c.itemAxisPredicate),g=(0,s.createSelector)([m,c.selectBaseAxis,h],c.combineGraphicalItemsSettings),y=(0,s.createSelector)([g],c.combineGraphicalItemsData),x=(0,s.createSelector)([y,i.selectChartDataAndAlwaysIgnoreIndexes],c.combineDisplayedData),b=(0,s.createSelector)([x,c.selectBaseAxis,g],c.combineAppliedValues);(0,s.createSelector)([x,c.selectBaseAxis,g],(e,t,r)=>r.length>0?e.flatMap(e=>r.flatMap(r=>{var a;return{value:(0,l.getValueByDataKey)(e,null!=(a=t.dataKey)?a:r.dataKey),errorDomain:[]}})).filter(Boolean):(null==t?void 0:t.dataKey)!=null?e.map(e=>({value:(0,l.getValueByDataKey)(e,t.dataKey),errorDomain:[]})):e.map(e=>({value:e,errorDomain:[]})));var v=()=>void 0,j=(0,s.createSelector)([x,c.selectBaseAxis,g,c.selectAllErrorBarSettings,u.pickAxisType],c.combineDomainOfAllAppliedNumericalValuesIncludingErrorValues),w=(0,s.createSelector)([c.selectBaseAxis,c.selectDomainDefinition,c.selectDomainFromUserPreference,v,j,v,d.selectChartLayout,u.pickAxisType],c.combineNumericalDomain),N=(0,s.createSelector)([c.selectBaseAxis,d.selectChartLayout,x,b,f.selectStackOffsetType,u.pickAxisType,w],c.combineAxisDomain),P=(0,s.createSelector)([N,c.selectBaseAxis,c.selectRealScaleType],c.combineNiceTicks);function E(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,a)}return r}function S(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?E(Object(r),!0).forEach(function(t){var a,n,s;a=e,n=t,s=r[t],(n=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var a=r.call(e,t||"default");if("object"!=typeof a)return a;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(n))in a?Object.defineProperty(a,n,{value:s,enumerable:!0,configurable:!0,writable:!0}):a[n]=s}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):E(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}(0,s.createSelector)([c.selectBaseAxis,N,P,u.pickAxisType],c.combineAxisDomainWithNiceTicks);var O=(0,s.createSelector)([m,(e,t)=>t],(e,t)=>e.filter(e=>"pie"===e.type).find(e=>e.id===t)),A=[],k=(e,t,r)=>(null==r?void 0:r.length)===0?A:r,C=(0,s.createSelector)([i.selectChartDataAndAlwaysIgnoreIndexes,O,k],(e,t,r)=>{var a,{chartData:n}=e;if(null!=t&&((a=(null==t?void 0:t.data)!=null&&t.data.length>0?t.data:n)&&a.length||null==r||(a=r.map(e=>S(S({},t.presentationProps),e.props))),null!=a))return a}),R=(0,s.createSelector)([C,O,k],(e,t,r)=>{if(null!=e&&null!=t)return e.map((e,a)=>{var n,s,i=(0,l.getValueByDataKey)(e,t.nameKey,t.name);return s=null!=r&&null!=(n=r[a])&&null!=(n=n.props)&&n.fill?r[a].props.fill:"object"==typeof e&&null!=e&&"fill"in e?e.fill:t.fill,{value:(0,l.getTooltipNameProp)(i,t.dataKey),color:s,payload:e,type:t.legendType}})}),I=(0,s.createSelector)([C,O,k,o.selectChartOffsetInternal],(e,t,r,a)=>{if(null!=t&&null!=e)return eg({offset:a,pieSettings:t,displayedData:e,cells:r})}),T=e.i(24948),_=e.i(61166),D=e.i(79539),M=e.i(12476),L=e.i(19699),q=e.i(56874),z=e.i(44420),B=e.i(85670),$=e.i(34456),F=e.i(9494),U=e.i(36291),K=e.i(99451),V=e.i(18146),W=e.i(91050),G=e.i(17711),X=e.i(65227),J=e.i(9799),H=e.i(92035),Q=e.i(6696),Z=e.i(53389),Y=e.i(73839),ee=e.i(62786),et=e.i(77376),er=e.i(32455),ea=["key"],en=["onMouseEnter","onClick","onMouseLeave"],es=["id"],ei=["id"];function eo(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,a)}return r}function el(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?eo(Object(r),!0).forEach(function(t){var a,n,s;a=e,n=t,s=r[t],(n=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var a=r.call(e,t||"default");if("object"!=typeof a)return a;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(n))in a?Object.defineProperty(a,n,{value:s,enumerable:!0,configurable:!0,writable:!0}):a[n]=s}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):eo(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function ec(){return(ec=Object.assign.bind()).apply(null,arguments)}function ed(e,t){if(null==e)return{};var r,a,n=function(e,t){if(null==e)return{};var r={};for(var a in e)if(({}).hasOwnProperty.call(e,a)){if(-1!==t.indexOf(a))continue;r[a]=e[a]}return r}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(a=0;a<s.length;a++)r=s[a],-1===t.indexOf(r)&&({}).propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function eu(e){var t=(0,r.useMemo)(()=>(0,q.findAllByType)(e.children,L.Cell),[e.children]),a=(0,T.useAppSelector)(r=>R(r,e.id,t));return null==a?null:r.createElement(W.SetPolarLegendPayload,{legendPayload:a})}var ep=r.memo(e=>{var{dataKey:t,nameKey:a,sectors:n,stroke:s,strokeWidth:i,fill:o,name:c,hide:d,tooltipType:u}=e,p={dataDefinedOnItem:n.map(e=>e.tooltipPayload),positions:n.map(e=>e.tooltipPosition),settings:{stroke:s,strokeWidth:i,fill:o,dataKey:t,nameKey:a,name:(0,l.getTooltipNameProp)(c,t),hide:d,type:u,color:o,unit:""}};return r.createElement(K.SetTooltipEntrySettings,{tooltipEntrySettings:p})});function ef(e){var{sectors:t,props:a,showLabels:s}=e,{label:i,labelLine:o,dataKey:c}=a;if(!s||!i||!t)return null;var d=(0,Z.svgPropertiesNoEvents)(a),u=(0,Z.svgPropertiesNoEventsFromUnknown)(i),p=(0,Z.svgPropertiesNoEventsFromUnknown)(o),f="object"==typeof i&&"offsetRadius"in i&&"number"==typeof i.offsetRadius&&i.offsetRadius||20,m=t.map((e,t)=>{var a,s,m=(e.startAngle+e.endAngle)/2,h=(0,z.polarToCartesian)(e.cx,e.cy,e.outerRadius+f,m),g=el(el(el(el({},d),e),{},{stroke:"none"},u),{},{index:t,textAnchor:(a=h.x)>(s=e.cx)?"start":a<s?"end":"middle"},h),y=el(el(el(el({},d),e),{},{fill:"none",stroke:e.fill},p),{},{index:t,points:[(0,z.polarToCartesian)(e.cx,e.cy,e.outerRadius,m),h],key:"line"});return r.createElement(et.ZIndexLayer,{zIndex:er.DefaultZIndexes.label,key:"label-".concat(e.startAngle,"-").concat(e.endAngle,"-").concat(e.midAngle,"-").concat(t)},r.createElement(_.Layer,null,o&&((e,t)=>{if(r.isValidElement(e))return r.cloneElement(e,t);if("function"==typeof e)return e(t);var a=(0,n.clsx)("recharts-pie-label-line","boolean"!=typeof e?e.className:""),{key:s}=t,i=ed(t,ea);return r.createElement(D.Curve,ec({},i,{type:"linear",className:a}))})(o,y),((e,t,a)=>{if(r.isValidElement(e))return r.cloneElement(e,t);var s=a;if("function"==typeof e&&(s=e(t),r.isValidElement(s)))return s;var i=(0,n.clsx)("recharts-pie-label-text",e&&"object"==typeof e&&"className"in e&&"string"==typeof e.className?e.className:"");return r.createElement(M.Text,ec({},t,{alignmentBaseline:"middle",className:i}),s)})(i,g,(0,l.getValueByDataKey)(e,c))))});return r.createElement(_.Layer,{className:"recharts-pie-labels"},m)}function em(e){var{sectors:t,props:a,showLabels:n}=e,{label:s}=a;return"object"==typeof s&&null!=s&&"position"in s?r.createElement(ee.LabelListFromLabelProp,{label:s}):r.createElement(ef,{sectors:t,props:a,showLabels:n})}function eh(e){var{sectors:t,activeShape:a,inactiveShape:n,allOtherPieProps:s,shape:i,id:o}=e,l=(0,T.useAppSelector)(V.selectActiveTooltipIndex),c=(0,T.useAppSelector)(V.selectActiveTooltipDataKey),d=(0,T.useAppSelector)(V.selectActiveTooltipGraphicalItemId),{onMouseEnter:u,onClick:p,onMouseLeave:f}=s,m=ed(s,en),h=(0,U.useMouseEnterItemDispatch)(u,s.dataKey,o),g=(0,U.useMouseLeaveItemDispatch)(f),y=(0,U.useMouseClickItemDispatch)(p,s.dataKey,o);return null==t||0===t.length?null:r.createElement(r.Fragment,null,t.map((e,u)=>{if((null==e?void 0:e.startAngle)===0&&(null==e?void 0:e.endAngle)===0&&1!==t.length)return null;var p=null==d||d===o,f=String(u)===l&&(null==c||s.dataKey===c)&&p,x=a&&f?a:l?n:null,b=el(el({},e),{},{stroke:e.stroke,tabIndex:-1,[G.DATA_ITEM_INDEX_ATTRIBUTE_NAME]:u,[G.DATA_ITEM_DATAKEY_ATTRIBUTE_NAME]:s.dataKey});return r.createElement(_.Layer,ec({key:"sector-".concat(null==e?void 0:e.startAngle,"-").concat(null==e?void 0:e.endAngle,"-").concat(e.midAngle,"-").concat(u),tabIndex:-1,className:"recharts-pie-sector"},(0,$.adaptEventsOfChild)(m,e,u),{onMouseEnter:h(e,u),onMouseLeave:g(e,u),onClick:y(e,u)}),r.createElement(F.Shape,ec({option:null!=i?i:x,index:u,shapeType:"sector",isActive:f},b)))}))}function eg(e){var t,r,a,{pieSettings:n,displayedData:s,cells:i,offset:o}=e,{cornerRadius:c,startAngle:d,endAngle:u,dataKey:p,nameKey:f,tooltipType:m}=n,h=Math.abs(n.minAngle),g=(0,B.mathSign)(u-d)*Math.min(Math.abs(u-d),360),y=Math.abs(g),x=s.length<=1?0:null!=(t=n.paddingAngle)?t:0,b=s.filter(e=>0!==(0,l.getValueByDataKey)(e,p,0)).length,v=y-b*h-(y>=360?b:b-1)*x,j=s.reduce((e,t)=>{var r=(0,l.getValueByDataKey)(t,p,0);return e+((0,B.isNumber)(r)?r:0)},0);return j>0&&(r=s.map((e,t)=>{var r,s=(0,l.getValueByDataKey)(e,p,0),u=(0,l.getValueByDataKey)(e,f,t),y=((e,t,r)=>{var a,{top:n,left:s,width:i,height:o}=t,l=(0,z.getMaxRadius)(i,o),c=s+(0,B.getPercentValue)(e.cx,i,i/2),d=n+(0,B.getPercentValue)(e.cy,o,o/2),u=(0,B.getPercentValue)(e.innerRadius,l,0);return{cx:c,cy:d,innerRadius:u,outerRadius:(a=e.outerRadius,"function"==typeof a?(0,B.getPercentValue)(a(r),l,.8*l):(0,B.getPercentValue)(a,l,.8*l)),maxRadius:e.maxRadius||Math.sqrt(i*i+o*o)/2}})(n,o,e),b=((0,B.isNumber)(s)?s:0)/j,w=el(el({},e),i&&i[t]&&i[t].props),N=(r=t?a.endAngle+(0,B.mathSign)(g)*x*(0!==s):d)+(0,B.mathSign)(g)*((0!==s?h:0)+b*v),P=(r+N)/2,E=(y.innerRadius+y.outerRadius)/2,S=[{name:u,value:s,payload:w,dataKey:p,type:m}],O=(0,z.polarToCartesian)(y.cx,y.cy,E,P);return a=el(el(el(el({},n.presentationProps),{},{percent:b,cornerRadius:"string"==typeof c?parseFloat(c):c,name:u,tooltipPayload:S,midAngle:P,middleRadius:E,tooltipPosition:O},w),y),{},{value:s,dataKey:p,startAngle:r,endAngle:N,payload:w,paddingAngle:(0,B.mathSign)(g)*x})})),r}function ey(e){var{showLabels:t,sectors:a,children:n}=e,s=(0,r.useMemo)(()=>t&&a?a.map(e=>({value:e.value,payload:e.payload,clockWise:!1,parentViewBox:void 0,viewBox:{cx:e.cx,cy:e.cy,innerRadius:e.innerRadius,outerRadius:e.outerRadius,startAngle:e.startAngle,endAngle:e.endAngle,clockWise:!1},fill:e.fill})):[],[a,t]);return r.createElement(ee.PolarLabelListContextProvider,{value:t?s:void 0},n)}function ex(e){var{props:t,previousSectorsRef:n,id:s}=e,{sectors:i,isAnimationActive:o,animationBegin:l,animationDuration:c,animationEasing:d,activeShape:u,inactiveShape:p,onAnimationStart:f,onAnimationEnd:m}=t,h=(0,X.useAnimationId)(t,"recharts-pie-"),g=n.current,[y,x]=(0,r.useState)(!1),b=(0,r.useCallback)(()=>{"function"==typeof m&&m(),x(!1)},[m]),v=(0,r.useCallback)(()=>{"function"==typeof f&&f(),x(!0)},[f]);return r.createElement(ey,{showLabels:!y,sectors:i},r.createElement(Y.JavascriptAnimate,{animationId:h,begin:l,duration:c,isActive:o,easing:d,onAnimationStart:v,onAnimationEnd:b,key:h},e=>{var o=[],l=i&&i[0],c=null==l?void 0:l.startAngle;return null==i||i.forEach((t,r)=>{var n=g&&g[r],s=r>0?(0,a.default)(t,"paddingAngle",0):0;if(n){var i=(0,B.interpolate)(n.endAngle-n.startAngle,t.endAngle-t.startAngle,e),l=el(el({},t),{},{startAngle:c+s,endAngle:c+i+s});o.push(l),c=l.endAngle}else{var{endAngle:d,startAngle:u}=t,p=(0,B.interpolate)(0,d-u,e),f=el(el({},t),{},{startAngle:c+s,endAngle:c+p+s});o.push(f),c=f.endAngle}}),n.current=o,r.createElement(_.Layer,null,r.createElement(eh,{sectors:o,activeShape:u,inactiveShape:p,allOtherPieProps:t,shape:t.shape,id:s}))}),r.createElement(em,{showLabels:!y,sectors:i,props:t}),t.children)}var eb={animationBegin:400,animationDuration:1500,animationEasing:"ease",cx:"50%",cy:"50%",dataKey:"value",endAngle:360,fill:"#808080",hide:!1,innerRadius:0,isAnimationActive:"auto",label:!1,labelLine:!0,legendType:"rect",minAngle:0,nameKey:"name",outerRadius:"80%",paddingAngle:0,rootTabIndex:0,startAngle:0,stroke:"#fff",zIndex:er.DefaultZIndexes.area};function ev(e){var{id:t}=e,a=ed(e,es),{hide:s,className:i,rootTabIndex:o}=e,l=(0,r.useMemo)(()=>(0,q.findAllByType)(e.children,L.Cell),[e.children]),c=(0,T.useAppSelector)(e=>I(e,t,l)),d=(0,r.useRef)(null),u=(0,n.clsx)("recharts-pie",i);return s||null==c?(d.current=null,r.createElement(_.Layer,{tabIndex:o,className:u})):r.createElement(et.ZIndexLayer,{zIndex:e.zIndex},r.createElement(ep,{dataKey:e.dataKey,nameKey:e.nameKey,sectors:c,stroke:e.stroke,strokeWidth:e.strokeWidth,fill:e.fill,name:e.name,hide:e.hide,tooltipType:e.tooltipType}),r.createElement(_.Layer,{tabIndex:o,className:u},r.createElement(ex,{props:el(el({},a),{},{sectors:c}),previousSectorsRef:d,id:t})))}function ej(e){var t=(0,J.resolveDefaultProps)(e,eb),{id:a}=t,n=ed(t,ei),s=(0,Z.svgPropertiesNoEvents)(n);return r.createElement(H.RegisterGraphicalItemId,{id:a,type:"pie"},e=>r.createElement(r.Fragment,null,r.createElement(Q.SetPolarGraphicalItem,{type:"pie",id:e,data:n.data,dataKey:n.dataKey,hide:n.hide,angleAxisId:0,radiusAxisId:0,name:n.name,nameKey:n.nameKey,tooltipType:n.tooltipType,legendType:n.legendType,fill:n.fill,cx:n.cx,cy:n.cy,startAngle:n.startAngle,endAngle:n.endAngle,paddingAngle:n.paddingAngle,minAngle:n.minAngle,innerRadius:n.innerRadius,outerRadius:n.outerRadius,cornerRadius:n.cornerRadius,presentationProps:s,maxRadius:t.maxRadius}),r.createElement(eu,ec({},n,{id:e})),r.createElement(ev,ec({},n,{id:e}))))}ej.displayName="Pie";var ew=e.i(31306),eN=e.i(32607),eP=e.i(13798),eE=e.i(11309),eS=e.i(41882),eO=e.i(65681);function eA(e){var t=(0,T.useAppDispatch)();return(0,r.useEffect)(()=>{t((0,eO.updatePolarOptions)(e))},[t,e]),null}var ek=e.i(64730),eC=["layout"];function eR(){return(eR=Object.assign.bind()).apply(null,arguments)}var eI={accessibilityLayer:!0,stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index",layout:"radial",responsive:!1,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"},eT=(0,r.forwardRef)(function(e,t){var a,n=(0,J.resolveDefaultProps)(e.categoricalChartProps,eI),{layout:s}=n,i=function(e,t){if(null==e)return{};var r,a,n=function(e,t){if(null==e)return{};var r={};for(var a in e)if(({}).hasOwnProperty.call(e,a)){if(-1!==t.indexOf(a))continue;r[a]=e[a]}return r}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(a=0;a<s.length;a++)r=s[a],-1===t.indexOf(r)&&({}).propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}(n,eC),{chartName:o,defaultTooltipEventType:l,validateTooltipEventTypes:c,tooltipPayloadSearcher:d}=e;return r.createElement(eN.RechartsStoreProvider,{preloadedState:{options:{chartName:o,defaultTooltipEventType:l,validateTooltipEventTypes:c,tooltipPayloadSearcher:d,eventEmitter:void 0}},reduxStoreName:null!=(a=n.id)?a:o},r.createElement(eP.ChartDataContextProvider,{chartData:n.data}),r.createElement(eE.ReportMainChartProps,{layout:s,margin:n.margin}),r.createElement(eS.ReportChartProps,{baseValue:void 0,accessibilityLayer:n.accessibilityLayer,barCategoryGap:n.barCategoryGap,maxBarSize:n.maxBarSize,stackOffset:n.stackOffset,barGap:n.barGap,barSize:n.barSize,syncId:n.syncId,syncMethod:n.syncMethod,className:n.className,reverseStackOrder:n.reverseStackOrder}),r.createElement(eA,{cx:n.cx,cy:n.cy,startAngle:n.startAngle,endAngle:n.endAngle,innerRadius:n.innerRadius,outerRadius:n.outerRadius}),r.createElement(ek.CategoricalChart,eR({},i,{ref:t})))});function e_(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,a)}return r}function eD(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?e_(Object(r),!0).forEach(function(t){var a,n,s;a=e,n=t,s=r[t],(n=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var a=r.call(e,t||"default");if("object"!=typeof a)return a;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(n))in a?Object.defineProperty(a,n,{value:s,enumerable:!0,configurable:!0,writable:!0}):a[n]=s}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):e_(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}var eM=["item"],eL=eD(eD({},eI),{},{layout:"centric",startAngle:0,endAngle:360}),eq=(0,r.forwardRef)((e,t)=>{var a=(0,J.resolveDefaultProps)(e,eL);return r.createElement(eT,{chartName:"PieChart",defaultTooltipEventType:"item",validateTooltipEventTypes:eM,tooltipPayloadSearcher:ew.arrayTooltipSearcher,categoricalChartProps:a,ref:t})});e.s(["PieChart",()=>eq],25675)},42819,e=>{"use strict";let t=(0,e.i(81033).default)("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);e.s(["TrendingUp",()=>t],42819)},86635,e=>{"use strict";var t=e.i(19063),r=e.i(18165),a=e.i(75402),n=e.i(57428),s=e.i(310),i=e.i(92855),o=e.i(86820),l=e.i(99106);function c(){let[e,c]=(0,r.useState)([]),d=async()=>{try{let e=JSON.parse(localStorage.getItem("user")||"{}"),t=await fetch("/api/admin/waste-breakdown",{headers:{"x-user-id":e.userId||""}});if(!t.ok)return void console.error("[AdminWasteChart] Failed to fetch:",t.status);let r=await t.json(),a=[{type:"Food Waste",value:r.edible??0},{type:"Coffee Grounds",value:r.coffee??0},{type:"Organic Waste",value:r.organic??0},{type:"Recyclable",value:r.recyclable??0}];c(a)}catch(e){console.error("[AdminWasteChart] Error fetching data:",e)}};return(0,r.useEffect)(()=>{d();let e=setInterval(d,5e3);return()=>clearInterval(e)},[]),(0,t.jsx)(l.ChartContainer,{config:{value:{label:"Total Weight (kg)",color:"hsl(var(--chart-1))"}},className:"h-[350px] w-full",children:(0,t.jsxs)(n.BarChart,{data:e,children:[(0,t.jsx)(s.CartesianGrid,{strokeDasharray:"3 3"}),(0,t.jsx)(i.XAxis,{dataKey:"type",fontSize:12}),(0,t.jsx)(o.YAxis,{fontSize:12}),(0,t.jsx)(l.ChartTooltip,{content:(0,t.jsx)(l.ChartTooltipContent,{})}),(0,t.jsx)(a.Bar,{dataKey:"value",fill:"var(--color-value)",radius:[8,8,0,0]})]})})}e.s(["AdminWasteChart",()=>c])},79144,e=>{"use strict";var t=e.i(19063),r=e.i(96083),a=e.i(28739),n=e.i(80120);let s=(0,e.i(81033).default)("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);var i=e.i(80019),o=e.i(78857),l=e.i(60036),c=e.i(42819),d=e.i(6320),u=e.i(36672),p=e.i(86635),f=e.i(18165),m=e.i(77096),h=e.i(25675),g=e.i(19699),y=e.i(50921),x=e.i(85353),b=e.i(99106);let v=["hsl(var(--chart-1))","hsl(var(--chart-2))","hsl(var(--chart-3))","hsl(var(--chart-4))"];function j(){let[e,r]=(0,f.useState)([]),a=async()=>{try{let e=JSON.parse(localStorage.getItem("user")||"{}"),t=await fetch("/api/admin/actions-breakdown",{headers:{"x-user-id":e.userId||""}});if(!t.ok)return void console.error("[AdminActionsChart] Failed to fetch:",t.status);let a=await t.json(),n=[{name:"Donate",value:a.donate??0},{name:"Compost",value:a.compost??0},{name:"Farm",value:a.farm??0},{name:"Reuse",value:a.reuse??0}];r(n)}catch(e){console.error("[AdminActionsChart] Error fetching data:",e)}};return(0,f.useEffect)(()=>{a();let e=setInterval(a,5e3);return()=>clearInterval(e)},[]),(0,t.jsx)(b.ChartContainer,{config:{donate:{label:"Donate",color:"hsl(var(--chart-1))"},compost:{label:"Compost",color:"hsl(var(--chart-2))"},farm:{label:"Farm",color:"hsl(var(--chart-3))"},reuse:{label:"Reuse",color:"hsl(var(--chart-4))"}},className:"h-[350px] w-full",children:(0,t.jsx)(x.ResponsiveContainer,{width:"100%",height:"100%",children:(0,t.jsxs)(h.PieChart,{children:[(0,t.jsx)(m.Pie,{data:e,cx:"50%",cy:"50%",labelLine:!1,label:({name:e,percent:t})=>`${e}: ${(100*t).toFixed(0)}%`,outerRadius:100,fill:"#8884d8",dataKey:"value",children:e.map((e,r)=>(0,t.jsx)(g.Cell,{fill:v[r%v.length]},`cell-${r}`))}),(0,t.jsx)(b.ChartTooltip,{content:(0,t.jsx)(b.ChartTooltipContent,{})}),(0,t.jsx)(y.Legend,{})]})})})}var w=e.i(94557),N=e.i(87285);let P=(0,w.withAuth)(function({user:e}){let[m,h]=(0,f.useState)({totalWaste:0,donated:0,compost:0,dropped:0,pendingRequests:0,collectedRequests:0}),[g,y]=(0,f.useState)([]),[x,b]=(0,f.useState)([]),[v,w]=(0,f.useState)(null),P=async()=>{try{let e=JSON.parse(localStorage.getItem("user")||"{}");if(!e.userId)return void console.warn("No user ID found, skipping fetchStats");let t=await fetch("/api/admin/stats",{headers:{"x-user-id":e.userId}});if(t.ok){let e=await t.json();h(e)}else{let e=await t.json().catch(()=>({error:"Unknown error"}));console.error("Error fetching stats:",t.status,e)}}catch(e){e instanceof TypeError&&"Failed to fetch"===e.message?console.warn("Network error fetching stats (this is normal if server is restarting):",e):console.error("Error fetching stats:",e)}},E=async()=>{try{let e=JSON.parse(localStorage.getItem("user")||"{}");if(!e.userId)return void console.warn("No user ID found, skipping fetchRecentEntries");let t=await fetch("/api/staff/waste",{headers:{"x-user-id":e.userId}});if(t.ok){let e=((await t.json()).entries||[]).slice(0,5).map(e=>({id:e.id,itemName:e.itemName,type:e.type,quantity:e.quantity,assignedTo:e.assignedTo,status:e.status,createdAt:new Date(e.createdAt).toLocaleString()}));y(e)}else{let e=await t.json().catch(()=>({error:"Unknown error"}));console.error("Error fetching recent entries:",t.status,e)}}catch(e){e instanceof TypeError&&"Failed to fetch"===e.message?console.warn("Network error fetching recent entries (this is normal if server is restarting):",e):console.error("Error fetching recent entries:",e)}},S=async()=>{try{let e=JSON.parse(localStorage.getItem("user")||"{}");if(!e.userId)return void console.warn("No user ID found, skipping fetchPickupRequests");let t=await fetch("/api/admin/pickups",{headers:{"x-user-id":e.userId}});if(t.ok){let e=(await t.json()).map(e=>(e.id&&e.id.startsWith("w")&&console.error("WARNING: API returned wasteId as id:",e.id,"This should be a pickup request ID!"),e));b(e.slice(0,5))}else{let e=await t.json().catch(()=>({error:"Unknown error"}));console.error("Error fetching pickup requests:",t.status,e)}}catch(e){e instanceof TypeError&&"Failed to fetch"===e.message?console.warn("Network error fetching pickup requests (this is normal if server is restarting):",e):console.error("Error fetching pickup requests:",e)}},O=async e=>{if(console.log(" Approve button clicked! ID:",e),!e){console.error(" No pickup request ID provided"),N.toast.error("Error: Missing request ID");return}if(v)return void console.log(" Already processing a request, skipping...");w(e);try{let t=JSON.parse(localStorage.getItem("user")||"{}");if(!t.userId){N.toast.error("Please log in again"),w(null);return}console.log(" Sending approve request for ID:",e);let r=await fetch(`/api/admin/pickups/${e}/approve`,{method:"POST",headers:{"Content-Type":"application/json","x-user-id":t.userId}});console.log(" Response status:",r.status);let a=await r.json();if(console.log(" Response data:",a),r.ok){b(t=>t.map(t=>t.id===e?{...t,status:"approved"}:t)),h(e=>({...e,pendingRequests:Math.max(0,e.pendingRequests-1)}));let t=x.find(t=>t.id===e),r=t?.itemName||a.waste?.itemName||"item";N.toast.success(" Pickup Request Approved!",{description:`The pickup request for "${r}" has been approved successfully. The requester will be notified.`,duration:6e3,position:"top-center"}),setTimeout(()=>{S(),P()},1e3)}else console.error(" Approve failed:",a),N.toast.error(" Approval Failed",{description:a.error||"Failed to approve request. Please try again.",duration:6e3,position:"top-center"})}catch(e){console.error(" Error approving request:",e),N.toast.error(" Error",{description:"Something went wrong while approving the request. Please try again.",duration:6e3,position:"top-center"})}finally{w(null)}},A=async e=>{if(console.log(" Reject button clicked! ID:",e),!e){console.error(" No pickup request ID provided"),N.toast.error("Error: Missing request ID");return}if(v)return void console.log(" Already processing a request, skipping...");w(e);try{let t=JSON.parse(localStorage.getItem("user")||"{}");if(!t.userId){N.toast.error("Please log in again"),w(null);return}console.log(" Sending reject request for ID:",e);let r=await fetch(`/api/admin/pickups/${e}/reject`,{method:"POST",headers:{"Content-Type":"application/json","x-user-id":t.userId}});console.log(" Response status:",r.status);let a=await r.json();if(console.log(" Response data:",a),r.ok){b(t=>t.map(t=>t.id===e?{...t,status:"rejected"}:t)),h(e=>({...e,pendingRequests:Math.max(0,e.pendingRequests-1)}));let t=x.find(t=>t.id===e),r=t?.itemName||"item";N.toast.error(" Pickup Request Rejected",{description:`The pickup request for "${r}" has been rejected. The requester will be notified.`,duration:6e3,position:"top-center"}),setTimeout(()=>{S(),P()},1e3)}else console.error(" Reject failed:",a),N.toast.error(" Rejection Failed",{description:a.error||"Failed to reject request. Please try again.",duration:6e3,position:"top-center"})}catch(e){console.error(" Error rejecting request:",e),N.toast.error(" Error",{description:"Something went wrong while rejecting the request. Please try again.",duration:6e3,position:"top-center"})}finally{w(null)}};return(0,f.useEffect)(()=>{P(),E(),S();let e=setInterval(()=>{P(),E(),S()},5e3);return()=>clearInterval(e)},[]),(0,t.jsxs)("div",{className:"min-h-screen bg-background",children:[(0,t.jsx)(r.DashboardNav,{}),(0,t.jsx)("main",{className:"pt-20 px-4 pb-8",children:(0,t.jsxs)("div",{className:"container mx-auto max-w-7xl",children:[(0,t.jsxs)("div",{className:"mb-8 p-6 rounded-lg bg-primary/5 border-l-4 border-primary",children:[(0,t.jsxs)("div",{className:"flex items-center gap-3 mb-2",children:[(0,t.jsx)("div",{className:"w-10 h-10 rounded-lg bg-primary flex items-center justify-center",children:(0,t.jsx)(l.Award,{className:"w-6 h-6 text-primary-foreground"})}),(0,t.jsx)("h1",{className:"font-display font-bold text-3xl text-foreground",children:"Admin Dashboard"})]}),(0,t.jsx)("p",{className:"text-muted-foreground",children:"System-wide sustainability metrics and user management"})]}),(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:[(0,t.jsxs)(a.Card,{className:"p-6 hover:shadow-lg transition-shadow border-l-4 border-l-primary",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,t.jsx)("div",{className:"w-12 h-12 rounded-lg bg-primary/10 flex items-center justify-center",children:(0,t.jsx)(i.Trash2,{className:"w-6 h-6 text-primary"})}),(0,t.jsx)(c.TrendingUp,{className:"w-5 h-5 text-green-600"})]}),(0,t.jsxs)("div",{className:"text-3xl font-display font-bold text-foreground mb-1",children:[m.totalWaste," kg"]}),(0,t.jsx)("div",{className:"text-sm text-muted-foreground",children:"Total Waste Logged"})]}),(0,t.jsxs)(a.Card,{className:"p-6 hover:shadow-lg transition-shadow border-l-4 border-l-red-500",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,t.jsx)("div",{className:"w-12 h-12 rounded-lg bg-red-500/10 flex items-center justify-center",children:(0,t.jsx)(o.Heart,{className:"w-6 h-6 text-red-500"})}),(0,t.jsx)(c.TrendingUp,{className:"w-5 h-5 text-green-600"})]}),(0,t.jsxs)("div",{className:"text-3xl font-display font-bold text-foreground mb-1",children:[m.donated," kg"]}),(0,t.jsx)("div",{className:"text-sm text-muted-foreground",children:"Total Donations"})]}),(0,t.jsxs)(a.Card,{className:"p-6 hover:shadow-lg transition-shadow border-l-4 border-l-secondary",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,t.jsx)("div",{className:"w-12 h-12 rounded-lg bg-secondary/10 flex items-center justify-center",children:(0,t.jsx)(l.Award,{className:"w-6 h-6 text-secondary"})}),(0,t.jsx)(c.TrendingUp,{className:"w-5 h-5 text-green-600"})]}),(0,t.jsxs)("div",{className:"text-3xl font-display font-bold text-foreground mb-1",children:[m.compost," kg"]}),(0,t.jsx)("div",{className:"text-sm text-muted-foreground",children:"Composted"})]}),(0,t.jsxs)(a.Card,{className:"p-6 hover:shadow-lg transition-shadow border-l-4 border-l-amber-500",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,t.jsx)("div",{className:"w-12 h-12 rounded-lg bg-amber-500/10 flex items-center justify-center",children:(0,t.jsx)(s,{className:"w-6 h-6 text-amber-600"})}),(0,t.jsx)(c.TrendingUp,{className:"w-5 h-5 text-green-600"})]}),(0,t.jsx)("div",{className:"text-3xl font-display font-bold text-foreground mb-1",children:m.pendingRequests}),(0,t.jsx)("div",{className:"text-sm text-muted-foreground",children:"Pending Requests"})]})]}),(0,t.jsxs)("div",{className:"grid lg:grid-cols-2 gap-6 mb-8",children:[(0,t.jsxs)(a.Card,{className:"p-6",children:[(0,t.jsx)("h3",{className:"font-display font-bold text-xl text-foreground mb-6",children:"Recent Waste Entries"}),0===g.length?(0,t.jsx)("p",{className:"text-muted-foreground text-center py-8",children:"No waste entries yet"}):(0,t.jsx)("div",{className:"overflow-x-auto",children:(0,t.jsxs)("table",{className:"w-full",children:[(0,t.jsx)("thead",{children:(0,t.jsxs)("tr",{className:"border-b border-border",children:[(0,t.jsx)("th",{className:"text-left py-2 px-3 text-xs font-semibold text-muted-foreground",children:"Item"}),(0,t.jsx)("th",{className:"text-left py-2 px-3 text-xs font-semibold text-muted-foreground",children:"Type"}),(0,t.jsx)("th",{className:"text-left py-2 px-3 text-xs font-semibold text-muted-foreground",children:"Qty"}),(0,t.jsx)("th",{className:"text-left py-2 px-3 text-xs font-semibold text-muted-foreground",children:"Assigned"}),(0,t.jsx)("th",{className:"text-left py-2 px-3 text-xs font-semibold text-muted-foreground",children:"Status"})]})}),(0,t.jsx)("tbody",{children:g.map(e=>(0,t.jsxs)("tr",{className:"border-b border-border hover:bg-muted/50 transition-colors",children:[(0,t.jsx)("td",{className:"py-2 px-3 text-sm text-foreground",children:e.itemName}),(0,t.jsx)("td",{className:"py-2 px-3 text-sm text-muted-foreground",children:e.type}),(0,t.jsxs)("td",{className:"py-2 px-3 text-sm text-foreground",children:[e.quantity," kg"]}),(0,t.jsx)("td",{className:"py-2 px-3",children:(0,t.jsx)("span",{className:`inline-flex px-2 py-0.5 rounded-full text-xs font-medium ${"charity"===e.assignedTo?"bg-red-500/10 text-red-600":"bg-green-500/10 text-green-600"}`,children:"charity"===e.assignedTo?"Charity":"Farmer"})}),(0,t.jsx)("td",{className:"py-2 px-3",children:(0,t.jsx)("span",{className:`inline-flex px-2 py-0.5 rounded-full text-xs font-medium ${"collected"===e.status?"bg-primary/10 text-primary":"dropped"===e.status?"bg-gray-500/10 text-gray-600":"bg-amber-500/10 text-amber-600"}`,children:e.status})})]},e.id))})]})})]}),(0,t.jsxs)(a.Card,{className:"p-6",children:[(0,t.jsx)("h3",{className:"font-display font-bold text-xl text-foreground mb-6",children:"Recent Pickup Requests"}),0===x.length?(0,t.jsx)("p",{className:"text-muted-foreground text-center py-8",children:"No pickup requests yet"}):(0,t.jsx)("div",{className:"overflow-x-auto",children:(0,t.jsxs)("table",{className:"w-full",children:[(0,t.jsx)("thead",{children:(0,t.jsxs)("tr",{className:"border-b border-border",children:[(0,t.jsx)("th",{className:"text-left py-2 px-3 text-xs font-semibold text-muted-foreground",children:"Requester"}),(0,t.jsx)("th",{className:"text-left py-2 px-3 text-xs font-semibold text-muted-foreground",children:"Item"}),(0,t.jsx)("th",{className:"text-left py-2 px-3 text-xs font-semibold text-muted-foreground",children:"Qty"}),(0,t.jsx)("th",{className:"text-left py-2 px-3 text-xs font-semibold text-muted-foreground",children:"Preferred Time"}),(0,t.jsx)("th",{className:"text-left py-2 px-3 text-xs font-semibold text-muted-foreground",children:"Status"}),(0,t.jsx)("th",{className:"text-left py-2 px-3 text-xs font-semibold text-muted-foreground",children:"Actions"})]})}),(0,t.jsx)("tbody",{children:x.map(e=>{let r=e.id;return(console.log(" Rendering request:",{id:e.id,pickupRequestId:r,wasteId:e.wasteId,status:e.status,itemName:e.itemName}),r&&r.startsWith("w")&&console.warn(" WARNING: Received wasteId instead of pickupRequestId:",r),r)?(0,t.jsxs)("tr",{className:"border-b border-border hover:bg-muted/50 transition-colors",onClick:e=>e.stopPropagation(),children:[(0,t.jsx)("td",{className:"py-2 px-3 text-sm text-foreground",children:(0,t.jsx)("span",{className:`inline-flex px-2 py-0.5 rounded-full text-xs font-medium ${"charity"===e.requesterType?"bg-red-500/10 text-red-600":"bg-green-500/10 text-green-600"}`,children:e.requesterName})}),(0,t.jsx)("td",{className:"py-2 px-3 text-sm text-foreground",children:e.itemName}),(0,t.jsxs)("td",{className:"py-2 px-3 text-sm text-foreground",children:[e.quantity," kg"]}),(0,t.jsx)("td",{className:"py-2 px-3 text-sm text-muted-foreground",children:e.preferredTime?(0,t.jsxs)("div",{className:"flex flex-col",children:[(0,t.jsx)("span",{className:"font-medium text-foreground text-xs",children:e.preferredTime}),e.notes&&(0,t.jsxs)("span",{className:"text-xs text-muted-foreground mt-1",title:e.notes,children:[" ",e.notes.length>25?e.notes.substring(0,25)+"...":e.notes]})]}):(0,t.jsx)("span",{className:"text-xs text-muted-foreground",children:"Not specified"})}),(0,t.jsx)("td",{className:"py-2 px-3",children:(0,t.jsxs)("span",{className:`inline-flex items-center gap-1 px-2 py-0.5 rounded-full text-xs font-medium transition-all ${"collected"===e.status?"bg-primary/10 text-primary border border-primary/20":"approved"===e.status?"bg-green-500/10 text-green-600 border border-green-500/20":"rejected"===e.status?"bg-red-500/10 text-red-600 border border-red-500/20":"bg-amber-500/10 text-amber-600 border border-amber-500/20"}`,children:["approved"===e.status&&(0,t.jsx)(d.CheckCircle,{className:"w-3 h-3"}),"rejected"===e.status&&(0,t.jsx)(u.XCircle,{className:"w-3 h-3"}),(0,t.jsx)("span",{className:"capitalize",children:e.status})]})}),(0,t.jsx)("td",{className:"py-2 px-3",children:"pending"===e.status?(0,t.jsxs)("div",{className:"flex gap-2",onClick:e=>e.stopPropagation(),children:[(0,t.jsxs)(n.Button,{type:"button",size:"sm",disabled:v===r,className:"bg-primary hover:bg-primary/90 h-8 text-xs cursor-pointer disabled:opacity-50 disabled:cursor-not-allowed pointer-events-auto z-10 relative",onClick:t=>{(t.preventDefault(),t.stopPropagation(),v===r)?console.log(" Already processing this request, ignoring click"):(console.log(" Approve button clicked for request:",e),console.log(" Using pickupRequestId:",r),O(r))},children:[(0,t.jsx)(d.CheckCircle,{className:"w-3 h-3 mr-1"}),v===r?"Processing...":"Approve"]}),(0,t.jsxs)(n.Button,{type:"button",size:"sm",variant:"outline",disabled:v===r,className:"h-8 text-xs bg-transparent border-red-500 text-red-600 hover:bg-red-50 hover:text-red-700 cursor-pointer disabled:opacity-50 disabled:cursor-not-allowed pointer-events-auto z-10 relative",onClick:t=>{(t.preventDefault(),t.stopPropagation(),v===r)?console.log(" Already processing this request, ignoring click"):(console.log(" Reject button clicked for request:",e),console.log(" Using pickupRequestId:",r),A(r))},children:[(0,t.jsx)(u.XCircle,{className:"w-3 h-3 mr-1"}),v===r?"Processing...":"Reject"]})]}):"approved"===e.status?(0,t.jsxs)(n.Button,{size:"sm",disabled:!0,className:"bg-green-500/10 text-green-600 border border-green-500/20 h-8 text-xs cursor-default",children:[(0,t.jsx)(d.CheckCircle,{className:"w-3 h-3 mr-1"}),"Approved"]}):"rejected"===e.status?(0,t.jsxs)(n.Button,{size:"sm",variant:"outline",disabled:!0,className:"bg-red-500/10 text-red-600 border border-red-500/20 h-8 text-xs cursor-default",children:[(0,t.jsx)(u.XCircle,{className:"w-3 h-3 mr-1"}),"Rejected"]}):(0,t.jsx)("span",{className:"text-sm text-muted-foreground capitalize",children:e.status})})]},r):(console.error(" ERROR: No ID found for request:",e),null)})})]})})]})]}),(0,t.jsxs)("div",{className:"grid lg:grid-cols-2 gap-6 mb-8",children:[(0,t.jsxs)(a.Card,{className:"p-6",children:[(0,t.jsx)("h3",{className:"font-display font-bold text-xl text-foreground mb-6",children:"Waste by Business Type"}),(0,t.jsx)(p.AdminWasteChart,{})]}),(0,t.jsxs)(a.Card,{className:"p-6",children:[(0,t.jsx)("h3",{className:"font-display font-bold text-xl text-foreground mb-6",children:"Action Type Distribution"}),(0,t.jsx)(j,{})]})]}),(0,t.jsxs)(a.Card,{className:"p-6",children:[(0,t.jsx)("h3",{className:"font-display font-bold text-xl text-foreground mb-6",children:"All Registered Businesses"}),(0,t.jsx)("div",{className:"overflow-x-auto",children:(0,t.jsxs)("table",{className:"w-full",children:[(0,t.jsx)("thead",{children:(0,t.jsxs)("tr",{className:"border-b border-border",children:[(0,t.jsx)("th",{className:"text-left py-3 px-4 font-display font-semibold text-sm text-muted-foreground",children:"Name"}),(0,t.jsx)("th",{className:"text-left py-3 px-4 font-display font-semibold text-sm text-muted-foreground",children:"Type"}),(0,t.jsx)("th",{className:"text-left py-3 px-4 font-display font-semibold text-sm text-muted-foreground",children:"Email"}),(0,t.jsx)("th",{className:"text-left py-3 px-4 font-display font-semibold text-sm text-muted-foreground",children:"Joined Date"})]})}),(0,t.jsx)("tbody",{children:[{name:"Green Caf",type:"Caf",email:"contact@greencafe.com",joined:"2024-11-15"},{name:"Eco Restaurant",type:"Restaurant",email:"hello@ecorestaurant.com",joined:"2024-12-01"},{name:"Food Bank NGO",type:"NGO",email:"info@foodbank.org",joined:"2024-10-20"},{name:"Sustainable Farm Co.",type:"Farm",email:"support@sustainablefarm.com",joined:"2024-09-10"},{name:"Daily Brew Coffee",type:"Caf",email:"team@dailybrew.com",joined:"2024-12-15"}].map((e,r)=>(0,t.jsxs)("tr",{className:"border-b border-border hover:bg-muted/50 transition-colors",children:[(0,t.jsx)("td",{className:"py-4 px-4 text-foreground font-medium",children:e.name}),(0,t.jsx)("td",{className:"py-4 px-4",children:(0,t.jsx)("span",{className:`inline-flex px-3 py-1 rounded-full text-xs font-medium ${"Caf"===e.type?"bg-primary/10 text-primary":"NGO"===e.type?"bg-red-500/10 text-red-600":"Farm"===e.type?"bg-secondary/10 text-secondary":"bg-muted text-muted-foreground"}`,children:e.type})}),(0,t.jsx)("td",{className:"py-4 px-4 text-muted-foreground",children:e.email}),(0,t.jsx)("td",{className:"py-4 px-4 text-muted-foreground",children:e.joined})]},r))})]})})]})]})})]})},["admin"]);e.s(["default",0,P],79144)}]);